---
title: 设计模式之适配器模式
date: 2018-04-16 13:56:28
categories: 设计模式
tags: 设计模式
---
# 结构型模式之适配器模式

## 定义

- 适配器模式用于将一个接口转化成客户想要的另一个接口，使接口不兼容的那些类可以一起工作，其别名为包装器(Wrapper)。适配器模式既可以作为类结构型模式，也可以作为对象结构型模式。

![适配器模式](http://ono60m7tl.bkt.clouddn.com/adapeter1.png)

- Target（目标抽象类）：目标抽象类定义客户所需接口，可以是一个抽象类或接口，也可以是具体类。
- Adapter（适配器类）：适配器可以调用另一个接口，作为一个转换器，对Adaptee和Target进行适配，适配器类是适配器模式的核心，在对象适配器中，它通过继承Target并关联一个Adaptee对象使二者产生联系。
- Adaptee（适配者类）：适配者即被适配的角色，它定义了一个已经存在的接口，这个接口需要适配，适配者类一般是一个具体类，包含了客户希望使用的业务方法，在某些情况下可能没有适配者类的源代码。

- 根据对象适配器模式结构图，在对象适配器中，客户端需要调用request()方法，而适配者类Adaptee没有该方法，但是它所提供的specificRequest()方法却是客户端所需要的。为了使客户端能够使用适配者类，需要提供一个包装类Adapter，即适配器类。这个包装类包装了一个适配者的实例，从而将客户端与适配者衔接起来，在适配器的request()方法中调用适配者的specificRequest()方法。因为适配器类与适配者类是关联关系（也可称之为委派关系），所以这种适配器模式称为对象适配器模式



## 类适配器

- 类适配器是继承适配者类实现的，其中对象适配器是使用组合的方式实现的，就是适配者类作为适配器类的成员变量而实现的

- 一般目标抽象类是一个接口，适配者类一般是一个具体的实现类，有时候甚至不知道其中的源代码，因此需要适配器类将适配者类转换成适合用户的目标类


### 实例

- 我们知道笔记本充电的电压是5v，但是我们的高压电是220v，那么我们此时就需要一个适配器将这个220v电压转换成为5v的电压给笔记本充电
	- 这里的220v电压就是适配者类，即是需要转换的类
	- 5v电压是目标抽象类，由适配器将220v转换而来
	- 这里的适配器类的主要功能就是将220v电压转换成5v电压


- 目标接口(5v电压)

```java
/*
 * 接口为5v电压的接口  ，  这个目标抽象类
 */
public interface Power5 {
	void getPower5();

}
```

- 220v电压的类（这里是一个具体的类，适配者类）

```java
public class Power220 {
	public void getPower220(){
		System.out.println("正在输出220v电压.....");
	}
}
```

- 适配器类（将220v电压转换成5v）

```java
/*
 * 适配器类，主要的目的就是将220v电压转换为5v的电压供笔记本充电
 * 其中Power5是目标抽象接口，是最终需要的接口，Power220是一个适配者类，是已经存在的，只需要适配器转换即可
 */
public class AdapterPower5 extends Power220 implements Power5 {

	/**
	 * 重载Power5中的方法，获取需要的5v电压
	 * 过程： 先获取220v电压，然后进行转换即可
	 * 	 */
	@Override
	public void getPower5() {
		super.getPower220();   //首先获取220v电压
		this.transform();   //将220v电压转换成5v的电压
		System.out.println("获取5v电压.......");
	}

	/*
	 * 将220v电压转换成5v电压的方法
	 */
	public void transform() {
		System.out.println("现在将220v电压转换成5v电压.......");

	}

}
```


- 笔记本充电的类

```java
/*
 * 笔记本类
 */
public class NoteBook {
	/**
	 * 笔记本充电的方法
	 * @param power5   电压为5v的对象
	 */
	public void PowerOn(Power5 power5){
		power5.getPower5();   //获取5v电压
		System.out.println("笔记本获取了5v的电压，正在开始充电......");
	}
}
```



- 测试类

```java
public class Client {
	public static void main(String[] args) {
		NoteBook noteBook=new NoteBook();   //创建笔记本的类
		noteBook.PowerOn(new AdapterPower5());   //调用笔记本充电的类
	}
}

```



## 对象适配器

- 对象适配器是将适配者类作为适配器类的成员变量并不是继承，这个是一种组合方式
- 这种方式使用的更加普遍


### 实例

- 这里的实例还是前面的例子

- 这里唯一不同的就是适配器类，不是继承适配者类，而是使用组合的方式

```java
/*
 * 适配器类，这个是对象适配器，适配者类是作为成员变量存在，是组合关系
 */
public class Adapter implements Power5 {

	private Power220 power;   //220v电压类的对象，作为成员变量

	/*
	 * 构造方法，主要是为类初始化Power220v的对象
	 */
	public Adapter(Power220 power){
		this.power=power;
	}

	@Override
	public void getPower5() {
		power.getPower220();   //获取220v电压
		transform();   //转换电压
		System.out.println("正在输出5v电压.......");
	}

	public void transform(){
		System.out.println("将220v电压转换成5v的电压......");
	}

}
```

## 总结

- 类适配器是使用类继承的方式，适配器类继承适配者类(不提倡使用)

- 对象适配器使用的是一种组合的方式，将适配者类作为其中的成员变量，那么也是可以实现（提倡使用）


## 麻烦支持下博主的广告事业，点击下即可

[![alt text](http://banner.linktech.cn/MC/huaweivmallwap/20171206/450x220.jpg "title")](http://click.linktech.cn/?m=huaweivmall&a=A100234624&l=02300&l_cd1=0&l_cd2=0&u_id=chenjiabing)

<a href="http://click.linktech.cn/?m=huaweivmall&a=A100234624&l=02300&l_cd1=0&l_cd2=0&u_id=chenjiabing" target=_blank><img src="http://banner.linktech.cn/MC/huaweivmallwap/20171206/450x220.jpg" width="450" height="220" border="0"></a><img src="http://track.linktech.cn/?m=huaweivmall&a=A100234624&l=02300&l_cd1=0&l_cd2=0" width="1" height="1" border="0" style="display:none">

<a href="http://click.linktech.cn/?m=huaweivmall&a=A100234624&l=02303&l_cd1=0&l_cd2=0&u_id=chenjiabing" target=_blank><img src="http://banner.linktech.cn/MC/huaweivmall/20171225/640x240.jpg" width="450" height="240" border="0"></a><img src="http://track.linktech.cn/?m=huaweivmall&a=A100234624&l=02303&l_cd1=0&l_cd2=0" width="1" height="1" border="0" style="display:none">

<a href="http://click.linktech.cn/?m=huaweivmall&a=A100234624&l=02302&l_cd1=0&l_cd2=0&u_id=chenjiabing" target=_blank><img src="http://banner.linktech.cn/MC/huaweivmallwap/20171219/450x220.jpg" width="450" height="220" border="0"></a><img src="http://track.linktech.cn/?m=huaweivmall&a=A100234624&l=02302&l_cd1=0&l_cd2=0" width="1" height="1" border="0" style="display:none">

<a href="http://click.linktech.cn/?m=huaweivmall&a=A100234624&l=02300&l_cd1=0&l_cd2=0&u_id=chenjiabing" target=_blank><img src="http://banner.linktech.cn/MC/huaweivmallwap/20171206/450x220.jpg" width="450" height="220" border="0"></a><img src="http://track.linktech.cn/?m=huaweivmall&a=A100234624&l=02300&l_cd1=0&l_cd2=0" width="1" height="1" border="0" style="display:none">



## 笔者有话说

- 最近建了一个微信交流群，提供给大家一个交流的平台，扫描下方笔者的微信二维码，备注【交流】，我会把大家拉进群

![](https://gitee.com/chenjiabing666/Blog-file/raw/master/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20200310211704.jpg)