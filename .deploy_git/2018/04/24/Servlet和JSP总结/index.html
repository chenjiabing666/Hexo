
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
  
    <title>Servlet和JSP总结 | 爱撒谎的男孩</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="不才陈某">
    

    
    <meta name="description" content="Servlet和JSP总结B/S和C/S
BS: Browser Server 浏览器和服务器
特点： 跨平台，功能升级比较方便，加载数据慢，用户体验稍差




CS： Client Server 客户端和服务器

特点： 功能升级  需要下载新版本客户端，用户交互界面炫酷，体验度高，需要开发多个平台的版本，开发成本高


总结： 两种架构各有优缺点，以后工作都有可能涉及到


什么是服务器
服">
<meta property="og:type" content="article">
<meta property="og:title" content="Servlet和JSP总结">
<meta property="og:url" content="http://chenjiabing666.github.io/2018/04/24/Servlet和JSP总结/index.html">
<meta property="og:site_name" content="爱撒谎的男孩">
<meta property="og:description" content="Servlet和JSP总结B/S和C/S
BS: Browser Server 浏览器和服务器
特点： 跨平台，功能升级比较方便，加载数据慢，用户体验稍差




CS： Client Server 客户端和服务器

特点： 功能升级  需要下载新版本客户端，用户交互界面炫酷，体验度高，需要开发多个平台的版本，开发成本高


总结： 两种架构各有优缺点，以后工作都有可能涉及到


什么是服务器
服">
<meta property="og:image" content="http://chenjiabing666.github.io/01.png">
<meta property="og:image" content="http://ono60m7tl.bkt.clouddn.com/Listener.png">
<meta property="og:image" content="https://gitee.com/chenjiabing666/Blog-file/raw/master/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20200310211704.jpg">
<meta property="og:updated_time" content="2020-03-13T06:09:28.671Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Servlet和JSP总结">
<meta name="twitter:description" content="Servlet和JSP总结B/S和C/S
BS: Browser Server 浏览器和服务器
特点： 跨平台，功能升级比较方便，加载数据慢，用户体验稍差




CS： Client Server 客户端和服务器

特点： 功能升级  需要下载新版本客户端，用户交互界面炫酷，体验度高，需要开发多个平台的版本，开发成本高


总结： 两种架构各有优缺点，以后工作都有可能涉及到


什么是服务器
服">
<meta name="twitter:image" content="http://chenjiabing666.github.io/01.png">

    
    <link rel="alternative" href="/atom.xml" title="爱撒谎的男孩" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/avatar.jpg" alt="爱撒谎的男孩" title="爱撒谎的男孩"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="爱撒谎的男孩">爱撒谎的男孩</a></h1>
				<h2 class="blog-motto">微信公众号：码猿技术专栏</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives/">归档</a></li>
					
						<li><a href="/about/">关于我</a></li>
					
					<li>
 					
						<form class="search" action="https://chenjiabing666.github.io/search" target="_blank">
							<label>Search</label>
						<input name="s" type="hidden" value= 14509119671822170000 ><input type="text" name="q" size="30" placeholder="搜索"><br>
						</form>
					
					</li>
				</ul>
			</nav>	
			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/04/24/Servlet和JSP总结/" title="Servlet和JSP总结" itemprop="url">Servlet和JSP总结</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="不才陈某" target="_blank" itemprop="author">不才陈某</a>
		
  <p class="article-time">
    <time datetime="2018-04-24T03:09:29.000Z" itemprop="datePublished"> 发表于 2018-04-24</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Servlet和JSP总结"><span class="toc-number">1.</span> <span class="toc-text">Servlet和JSP总结</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#B-S和C-S"><span class="toc-number">1.1.</span> <span class="toc-text">B/S和C/S</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是服务器"><span class="toc-number">1.2.</span> <span class="toc-text">什么是服务器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是web服务器"><span class="toc-number">1.3.</span> <span class="toc-text">什么是web服务器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#通过scoket实现web服务器"><span class="toc-number">1.4.</span> <span class="toc-text">通过scoket实现web服务器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#市面上常见的web服务器"><span class="toc-number">1.5.</span> <span class="toc-text">市面上常见的web服务器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#静态资源和动态资源"><span class="toc-number">1.6.</span> <span class="toc-text">静态资源和动态资源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Servlet-介绍"><span class="toc-number">1.7.</span> <span class="toc-text">Servlet 介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#如何创建Servlet"><span class="toc-number">1.8.</span> <span class="toc-text">如何创建Servlet</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#创建Servlet第一个程序"><span class="toc-number">1.8.1.</span> <span class="toc-text">创建Servlet第一个程序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#错误码"><span class="toc-number">1.9.</span> <span class="toc-text">错误码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Servlet响应的过程"><span class="toc-number">1.10.</span> <span class="toc-text">Servlet响应的过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#地址栏中出现中文-乱码解决方案"><span class="toc-number">1.11.</span> <span class="toc-text">地址栏中出现中文 乱码解决方案</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP协议-了解"><span class="toc-number">1.12.</span> <span class="toc-text">HTTP协议(了解)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是HTTP协议"><span class="toc-number">1.12.1.</span> <span class="toc-text">什么是HTTP协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#http请求包数据"><span class="toc-number">1.12.2.</span> <span class="toc-text">http请求包数据:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#响应数据包"><span class="toc-number">1.12.3.</span> <span class="toc-text">响应数据包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#请求方式-GET和POST"><span class="toc-number">1.12.4.</span> <span class="toc-text">请求方式:GET和POST</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Servlet中service-和doGet-doPost的关系"><span class="toc-number">1.12.5.</span> <span class="toc-text">Servlet中service 和doGet/doPost的关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#获取请求头里面的数据"><span class="toc-number">1.12.6.</span> <span class="toc-text">获取请求头里面的数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#设置响应头数据"><span class="toc-number">1.12.7.</span> <span class="toc-text">设置响应头数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#乱码"><span class="toc-number">1.12.8.</span> <span class="toc-text">乱码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#响应数据有中文"><span class="toc-number">1.12.8.1.</span> <span class="toc-text">响应数据有中文</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#请求参数有中文"><span class="toc-number">1.12.8.2.</span> <span class="toc-text">请求参数有中文</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#定时刷新及定时跳转"><span class="toc-number">1.13.</span> <span class="toc-text">定时刷新及定时跳转</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#如何隐藏关闭的工程"><span class="toc-number">1.14.</span> <span class="toc-text">如何隐藏关闭的工程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#如何分组显示项目"><span class="toc-number">1.15.</span> <span class="toc-text">如何分组显示项目</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#重定向"><span class="toc-number">1.15.1.</span> <span class="toc-text">重定向</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#路径的匹配"><span class="toc-number">1.16.</span> <span class="toc-text">路径的匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#两种匹配方式"><span class="toc-number">1.16.1.</span> <span class="toc-text">两种匹配方式:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#浏览器输入一个地址查找资源的过程是怎样的"><span class="toc-number">1.16.2.</span> <span class="toc-text">浏览器输入一个地址查找资源的过程是怎样的?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#复制工程时注意事项"><span class="toc-number">1.16.3.</span> <span class="toc-text">复制工程时注意事项</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Servlet的生命周期"><span class="toc-number">1.17.</span> <span class="toc-text">Servlet的生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#执行步骤"><span class="toc-number">1.17.1.</span> <span class="toc-text">执行步骤:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP"><span class="toc-number">1.18.</span> <span class="toc-text">JSP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Html-包括css-JavaScript"><span class="toc-number">1.18.1.</span> <span class="toc-text">Html(包括css,JavaScript)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java代码"><span class="toc-number">1.18.2.</span> <span class="toc-text">Java代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#隐含对象"><span class="toc-number">1.18.3.</span> <span class="toc-text">隐含对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#指令"><span class="toc-number">1.18.4.</span> <span class="toc-text">指令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#jsp是如何执行的"><span class="toc-number">1.19.</span> <span class="toc-text">jsp是如何执行的</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#include-指令"><span class="toc-number">1.20.</span> <span class="toc-text">include 指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#路径相关问题"><span class="toc-number">1.21.</span> <span class="toc-text">路径相关问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#相对路径"><span class="toc-number">1.21.1.</span> <span class="toc-text">相对路径</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#绝对路径"><span class="toc-number">1.21.2.</span> <span class="toc-text">绝对路径</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#总结"><span class="toc-number">1.21.3.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#状态管理（数据管理）"><span class="toc-number">1.22.</span> <span class="toc-text">状态管理（数据管理）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是状态管理"><span class="toc-number">1.22.1.</span> <span class="toc-text">什么是状态管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cookie"><span class="toc-number">1.22.2.</span> <span class="toc-text">Cookie</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#使用cookie记录客户端访问次数"><span class="toc-number">1.22.2.1.</span> <span class="toc-text">使用cookie记录客户端访问次数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用cookie保存登录的用户名和信息"><span class="toc-number">1.22.3.</span> <span class="toc-text">使用cookie保存登录的用户名和信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Session"><span class="toc-number">1.22.4.</span> <span class="toc-text">Session</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#如何创建Session对象"><span class="toc-number">1.22.4.1.</span> <span class="toc-text">如何创建Session对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#添加删除数据"><span class="toc-number">1.22.4.2.</span> <span class="toc-text">添加删除数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#session超时"><span class="toc-number">1.22.4.3.</span> <span class="toc-text">session超时</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#删除session"><span class="toc-number">1.22.4.4.</span> <span class="toc-text">删除session</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#删除session中的数据"><span class="toc-number">1.22.4.5.</span> <span class="toc-text">删除session中的数据</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实现自动登录（Session"><span class="toc-number">1.22.5.</span> <span class="toc-text">实现自动登录（Session)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Base64加密"><span class="toc-number">1.23.</span> <span class="toc-text">Base64加密</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#比较cookie和Session"><span class="toc-number">1.24.</span> <span class="toc-text">比较cookie和Session</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#自动登录加强版"><span class="toc-number">1.25.</span> <span class="toc-text">自动登录加强版</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#过滤器"><span class="toc-number">1.26.</span> <span class="toc-text">过滤器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是过滤器"><span class="toc-number">1.26.1.</span> <span class="toc-text">什么是过滤器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#如何创建一个过滤器"><span class="toc-number">1.26.2.</span> <span class="toc-text">如何创建一个过滤器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#过滤器的生命周期"><span class="toc-number">1.26.3.</span> <span class="toc-text">过滤器的生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#案例：-实现评论功能"><span class="toc-number">1.26.4.</span> <span class="toc-text">案例： 实现评论功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#如果配置多个过滤器拦截器同一个请求地址"><span class="toc-number">1.26.5.</span> <span class="toc-text">如果配置多个过滤器拦截器同一个请求地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lt-init-param-gt-设置初始化值"><span class="toc-number">1.26.6.</span> <span class="toc-text"><init-param>设置初始化值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ServletContext（上下文）"><span class="toc-number">1.27.</span> <span class="toc-text">ServletContext（上下文）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#如何配置参数"><span class="toc-number">1.27.1.</span> <span class="toc-text">如何配置参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加和获取数据"><span class="toc-number">1.27.2.</span> <span class="toc-text">添加和获取数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Request-Session-ServletContex，PageContext作用范围"><span class="toc-number">1.28.</span> <span class="toc-text">Request,Session,ServletContex，PageContext作用范围</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#监听器-Listener"><span class="toc-number">1.29.</span> <span class="toc-text">监听器 Listener</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是监听器"><span class="toc-number">1.29.1.</span> <span class="toc-text">什么是监听器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#如何创建监听器Listener"><span class="toc-number">1.29.2.</span> <span class="toc-text">如何创建监听器Listener</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#统计在线人数"><span class="toc-number">1.29.3.</span> <span class="toc-text">统计在线人数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#缓存数据练习"><span class="toc-number">1.30.</span> <span class="toc-text">缓存数据练习</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#好处"><span class="toc-number">1.30.1.</span> <span class="toc-text">好处</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码"><span class="toc-number">1.30.2.</span> <span class="toc-text">代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#各组件执行顺序"><span class="toc-number">1.31.</span> <span class="toc-text">各组件执行顺序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Servlet线程安全问题"><span class="toc-number">1.32.</span> <span class="toc-text">Servlet线程安全问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#为什么"><span class="toc-number">1.32.1.</span> <span class="toc-text">为什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#解决方案"><span class="toc-number">1.32.2.</span> <span class="toc-text">解决方案</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#实例"><span class="toc-number">1.32.2.1.</span> <span class="toc-text">实例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP扩展"><span class="toc-number">1.33.</span> <span class="toc-text">JSP扩展</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是JSP"><span class="toc-number">1.33.1.</span> <span class="toc-text">什么是JSP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#如何写jsp"><span class="toc-number">1.33.2.</span> <span class="toc-text">如何写jsp</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP中隐式对象"><span class="toc-number">1.34.</span> <span class="toc-text">JSP中隐式对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是隐式对象"><span class="toc-number">1.34.1.</span> <span class="toc-text">什么是隐式对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#为什么可以直接使用"><span class="toc-number">1.34.2.</span> <span class="toc-text">为什么可以直接使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#有哪些-（九大隐式对象-面试中常考"><span class="toc-number">1.34.3.</span> <span class="toc-text">有哪些 （九大隐式对象) 面试中常考</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP的注释"><span class="toc-number">1.35.</span> <span class="toc-text">JSP的注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP如何执行的"><span class="toc-number">1.36.</span> <span class="toc-text">JSP如何执行的</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP标签和EL表达式"><span class="toc-number">1.37.</span> <span class="toc-text">JSP标签和EL表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是jsp标签"><span class="toc-number">1.37.1.</span> <span class="toc-text">什么是jsp标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是EL表达式"><span class="toc-number">1.37.2.</span> <span class="toc-text">什么是EL表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EL表达式的使用"><span class="toc-number">1.37.3.</span> <span class="toc-text">EL表达式的使用(${})</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EL表达式执行过程"><span class="toc-number">1.37.4.</span> <span class="toc-text">EL表达式执行过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用EL表达式获取请求参数-使用不多，一般都是在Servlet获取"><span class="toc-number">1.37.5.</span> <span class="toc-text">使用EL表达式获取请求参数(使用不多，一般都是在Servlet获取)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EL表达式的简单运算"><span class="toc-number">1.37.6.</span> <span class="toc-text">EL表达式的简单运算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#算术运算符"><span class="toc-number">1.37.6.1.</span> <span class="toc-text">算术运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#逻辑运算符"><span class="toc-number">1.37.6.2.</span> <span class="toc-text">逻辑运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#关系运算符"><span class="toc-number">1.37.6.3.</span> <span class="toc-text">关系运算符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jstl"><span class="toc-number">1.37.7.</span> <span class="toc-text">jstl</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#如何使用"><span class="toc-number">1.37.7.1.</span> <span class="toc-text">如何使用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#自定义标签"><span class="toc-number">1.38.</span> <span class="toc-text">自定义标签</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#简单标签技术-继承SimpleTagSupport"><span class="toc-number">1.38.1.</span> <span class="toc-text">简单标签技术(继承SimpleTagSupport)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#笔者有话说"><span class="toc-number">1.39.</span> <span class="toc-text">笔者有话说</span></a></li></ol></li></ol>
		
		</div>
		
		<h1 id="Servlet和JSP总结"><a href="#Servlet和JSP总结" class="headerlink" title="Servlet和JSP总结"></a>Servlet和JSP总结</h1><h2 id="B-S和C-S"><a href="#B-S和C-S" class="headerlink" title="B/S和C/S"></a>B/S和C/S</h2><ul>
<li>BS: Browser Server 浏览器和服务器<ul>
<li>特点： 跨平台，功能升级比较方便，加载数据慢，用户体验稍差</li>
</ul>
</li>
</ul>
<ul>
<li><p>CS： Client Server 客户端和服务器</p>
<ul>
<li>特点： 功能升级  需要下载新版本客户端，用户交互界面炫酷，体验度高，需要开发多个平台的版本，开发成本高</li>
</ul>
</li>
<li><p>总结： 两种架构各有优缺点，以后工作都有可能涉及到</p>
</li>
</ul>
<h2 id="什么是服务器"><a href="#什么是服务器" class="headerlink" title="什么是服务器"></a>什么是服务器</h2><ul>
<li><p>服务器实际上就是一台高配置的电脑，通常配置内存8g以上，cpu8核以上，硬盘T级别</p>
</li>
<li><p>web服务器： 电脑上安装了web服务器软件，提供复杂的数据及文件共享功能</p>
</li>
<li><p>邮件服务器： 电脑上安装了邮件服务器，提供了收发邮件的功能</p>
</li>
<li><p>数据库服务器： 电脑上安装了数据库软件(mysql oracle) 提供了数据的增删改查</p>
</li>
<li><p>ftp服务器：电脑上安装了ftp服务软件，提供了文件上传下载功能</p>
</li>
</ul>
<h2 id="什么是web服务器"><a href="#什么是web服务器" class="headerlink" title="什么是web服务器"></a>什么是web服务器</h2><ul>
<li>电脑中得到任何资源（数据或者文件）被远程计算机访问，都必须有一个与之对应的网络通信程序，当有用户来访问时，此程序负责建立网络连接，读取相关资源，并把资源发送给用户，此程序负责底层的网络通讯处理http协议，使用此类型程序，程序猿只需要把精力放在具体的业务逻辑上即可</li>
</ul>
<h2 id="通过scoket实现web服务器"><a href="#通过scoket实现web服务器" class="headerlink" title="通过scoket实现web服务器"></a>通过scoket实现web服务器</h2><ul>
<li>练习： 请求<a href="http://localhost:8080" target="_blank" rel="external">http://localhost:8080</a> 返回一个网页</li>
<li>火狐浏览器执行，chrome不支持，windows下不执行可能原因是防火墙</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.io.FileInputStream;</div><div class="line"><span class="keyword">import</span> java.io.IOException;</div><div class="line"><span class="keyword">import</span> java.io.OutputStream;</div><div class="line"><span class="keyword">import</span> java.net.ServerSocket;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Socket</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">		<span class="comment">//创建服务器socket，并指定端口号</span></div><div class="line">		ServerSocket serverSocket=<span class="keyword">new</span> ServerSocket(<span class="number">8888</span>);</div><div class="line">		System.out.println(<span class="string">"服务器已经启动"</span>);</div><div class="line"></div><div class="line">		<span class="comment">//循环接收新的socket</span></div><div class="line">		<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</div><div class="line">			<span class="comment">//得到链接进来的socket对象</span></div><div class="line">			java.net.Socket  socket=serverSocket.accept();</div><div class="line"></div><div class="line">			<span class="comment">//构建数据发送通道</span></div><div class="line">			OutputStream outputStream=socket.getOutputStream();</div><div class="line"></div><div class="line">			<span class="comment">//得到文件的输入流</span></div><div class="line">			FileInputStream inputStream=<span class="keyword">new</span> FileInputStream(<span class="string">"/home/chenjiabing/文档/a.html"</span>);</div><div class="line"></div><div class="line">			<span class="comment">//把文件数据读取到，然后写出</span></div><div class="line">			<span class="keyword">int</span> len=<span class="number">0</span>;</div><div class="line">			<span class="keyword">while</span>((len=inputStream.read())!=-<span class="number">1</span>)&#123;</div><div class="line">				outputStream.write(len);</div><div class="line">			&#125;</div><div class="line">			<span class="comment">//关闭流</span></div><div class="line">			outputStream.close();</div><div class="line">			inputStream.close();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="市面上常见的web服务器"><a href="#市面上常见的web服务器" class="headerlink" title="市面上常见的web服务器"></a>市面上常见的web服务器</h2><ul>
<li><p>webSphere : 是IBM公司产品，闭源收费</p>
<ul>
<li>应用场景：IBM的操作系统+DB2+WebSphere</li>
</ul>
</li>
<li><p>Tomcat： apache的产品，属于开源免费应用在中小型网站中</p>
<ul>
<li>web学习阶段使用的服务器</li>
</ul>
</li>
<li><p>weblogic  : BEA公司的产品  闭源收费</p>
</li>
</ul>
<h2 id="静态资源和动态资源"><a href="#静态资源和动态资源" class="headerlink" title="静态资源和动态资源"></a>静态资源和动态资源</h2><ul>
<li><p>静态资源：任何用户  任何时间访问  内容都一样</p>
</li>
<li><p>动态资源： 不同的用户访问显示的内容可能会不一样，通过计算生成的网页</p>
</li>
</ul>
<h2 id="Servlet-介绍"><a href="#Servlet-介绍" class="headerlink" title="Servlet 介绍"></a>Servlet 介绍</h2><ul>
<li>因为web服务器本身只提供了静态资源访问，而具体的业务需求存在着动态资源，servlet就是用来扩展web服务器功能，tomcat属于web容器，而servlet属于存在于容器中的组件，Servlet本身是一个组件规范。</li>
</ul>
<h2 id="如何创建Servlet"><a href="#如何创建Servlet" class="headerlink" title="如何创建Servlet"></a>如何创建Servlet</h2><ol>
<li>创建一个Class，继承HttpServlet</li>
<li>编译</li>
<li><p>打包并发布（把servlet添加到tomcat中的webapps目录下）</p>
<ul>
<li>WEB-INF   这个文件夹里面的资源不能直接访问</li>
<li>classess (.class文件)</li>
<li>lib   (存放第三方的jar包)</li>
<li>web.xml   （部署描述文件）</li>
</ul>
</li>
<li><p>运行tomact服务器</p>
</li>
</ol>
<h3 id="创建Servlet第一个程序"><a href="#创建Servlet第一个程序" class="headerlink" title="创建Servlet第一个程序"></a>创建Servlet第一个程序</h3><ul>
<li><p>创建maven项目</p>
<ul>
<li>把默认的jar改成war</li>
<li>把package Explorer改成 project Explorer</li>
<li>在工程根目录的第一个文件上右键点击最长的那一个选项(默认工程中没有web.xml文件，这个操作会自动创建web.xml)</li>
</ul>
</li>
<li><p>创建一个类，继承<code>HttpServlet</code></p>
<ul>
<li>可能你会发现没有这个<code>HttpServlet</code>类，因为这里我们还需要一个jar包，我们在项目上右击选择<code>properties</code>，然后选择<code>Targeted Runtime</code>选择你自己的Tomcat，ok</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.io.IOException;</div><div class="line"><span class="keyword">import</span> java.io.PrintWriter;</div><div class="line"><span class="keyword">import</span> javax.servlet.ServletException;</div><div class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</div><div class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</div><div class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</div><div class="line">	<span class="comment">//这个方法可以处理任何的请求，get.post delete put 并且可以在适当的时候调用处理请求类型的各种方法</span></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest request,</span></span></div><div class="line">			HttpServletResponse response) <span class="keyword">throws</span> ServletException, IOException &#123;</div><div class="line">		<span class="comment">//设置响应的数据类型</span></div><div class="line">		response.setContentType(<span class="string">"text/html"</span>);</div><div class="line">		<span class="comment">//设置响应编码格式为UTF-8，否则将会出现中文乱码</span></div><div class="line">		response.setCharacterEncoding(<span class="string">"UTF-8"</span>);</div><div class="line">		<span class="comment">//得到输出对象</span></div><div class="line">		PrintWriter writer=response.getWriter();</div><div class="line">		<span class="comment">//返回数据，这里是向浏览器中写入数据</span></div><div class="line">		writer.write(<span class="string">"&lt;h1&gt;Hello World--你好世界&lt;/h1&gt;"</span>);</div><div class="line">		<span class="comment">//关闭输出流</span></div><div class="line">		writer.close();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>接下来在web.xml中配置Servlet的映射地址，在web-app的目录下写上如下内容</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 自己定义的名字，任意 --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>HelloWorld<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 指定Servlet的全类名 --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>cn.tedu.HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 指定Servlet的映射关系 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 这个是上面定义的Servlet的名字 --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>HelloWorld<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 指定映射的地址： 这里只需要在浏览器中输入http://localhost:8080/helloWorld即可调用这个Servlet --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/helloWorld<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>在浏览器中输入<code>http://localhost:8080/helloWorld</code></li>
</ul>
<h2 id="错误码"><a href="#错误码" class="headerlink" title="错误码"></a>错误码</h2><ul>
<li>404 找不到访问资源<ul>
<li>解决： 检查请求地址，检查项目是否部署成功</li>
</ul>
</li>
<li>500  服务器处理出错<br>  -　代码执行中有异常，仔细查看异常提示，看看能否找到解决办法</li>
</ul>
<h2 id="Servlet响应的过程"><a href="#Servlet响应的过程" class="headerlink" title="Servlet响应的过程"></a>Servlet响应的过程</h2><ol>
<li><p>浏览器发出请求，会先由浏览器的通讯模块对请求进行打包，打包后把数据传递给tomcat服务器</p>
</li>
<li><p>tomcat由通讯模块接收请求包并且对请求包进行解析，把请求数据封装到Request对象中，并且创建Response对象用于给浏览器返回数据</p>
</li>
<li><p>tomcat通讯模块通过查找web.xml文件和本次请求相对应的Sevlet，通过反射技术创建对象并且调用对象的Service方法<br>并把Request和Response传递到方法中</p>
</li>
<li><p>在service方法中书写各种业务代码，把需要返回的数据交给Respose对象，由Response对象传递给通讯模块，在通讯模块中打包成响应包</p>
</li>
<li><p>把响应包数据发送给浏览器通讯模块</p>
</li>
<li><p>浏览器通讯模块解析数据并且展示返回的数据</p>
</li>
</ol>
<p>##响应数据乱码<br>-为什么出现乱码,因为输出响应数据默认使用的是iso8859-1 需要把此编码改成utf-8</p>
<p>##发出请求时传递参数<br>把请求的参数写在请求地址的后面<br><a href="http://localhost:8080/1712ServletDay02_01Hello/hello?name=xiaoming" target="_blank" rel="external">http://localhost:8080/1712ServletDay02_01Hello/hello?name=xiaoming</a><br>通过request获取请求参数</p>
<p>##案例:计算 体质率BMI<br>页面中 有两个文本输入框 一个用来获取身高,一个用来获取体重 和一个提交按钮<br>bmi计算公式  bmi = 体重(kg)/身高(m)/身高(m)<br>根据bmi值判断体重是否正常<br>    bmi<19 体重偏瘦="" bmi="">=19&amp;&amp; bmi&lt;=25 体重正常<br>    bmi&gt;25 该减肥了<br>步骤:1. 创建页面bmi.html  页面中添加两个文本输入框和一个提交按钮</19></p>
<pre><code>2. 创建BMIServlet在Service方法中写业务逻辑
3. 在web.xml中配置bmiservlet
</code></pre><h2 id="地址栏中出现中文-乱码解决方案"><a href="#地址栏中出现中文-乱码解决方案" class="headerlink" title="地址栏中出现中文 乱码解决方案"></a>地址栏中出现中文 乱码解决方案</h2><p>因为浏览器默认会对中进行utf-8编码,但是在Servlet里面8.0以前默认是iso8859-1,8.0以后默认是utf-8,如果使用8.0以前版本解决乱码方案有两种:</p>
<ol>
<li><code>new String(gender.getBytes(&quot;iso8859-1&quot;),&quot;utf-8&quot;);</code></li>
<li>在server.xml的配置文件中修改<br> 在server.xml的第65行左右 的&lt;Connector标签中添加以下属性<pre><code>&lt;Connector URIEncoding=&quot;utf-8&quot;
</code></pre></li>
</ol>
<h2 id="HTTP协议-了解"><a href="#HTTP协议-了解" class="headerlink" title="HTTP协议(了解)"></a>HTTP协议(了解)</h2><h3 id="什么是HTTP协议"><a href="#什么是HTTP协议" class="headerlink" title="什么是HTTP协议"></a>什么是HTTP协议</h3><pre><code>属于一种网络应用层的协议,规定了浏览器与web服务器之间如何通讯,以及数据包的结构
-tcp/ip协议:属于连接协议,规定了两台设备如何建立连接
-http:应用层协议基于tcp/ip协议
http协议,规定了数据包的内容和结构,规定了请求方式等内容
浏览器-&gt;打请求包-&gt;服务器-&gt;服务器解请求包
服务器-&gt;打响应包-&gt;浏览器-&gt;浏览器解响应包

http://locaohost:8888/1712ServletDay02_01Hello/hello?name=abc
</code></pre><h3 id="http请求包数据"><a href="#http请求包数据" class="headerlink" title="http请求包数据:"></a>http请求包数据:</h3><ul>
<li><p>GET /1712ServletDay02_01Hello/hello?name=abc HTTP/1.1 Host: localhost:8080    主机地址</p>
</li>
<li><p>Connection: keep-alive    连接状态</p>
</li>
<li><p>Upgrade-Insecure-Requests: 1</p>
</li>
<li><p>//浏览器信息<br>User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.106 Safari/537.36<br>Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,<em>/</em>;q=0.8<br>Accept-Encoding: gzip, deflate, sdch<br>Accept-Language: zh-CN,zh;q=0.8</p>
</li>
</ul>
<h3 id="响应数据包"><a href="#响应数据包" class="headerlink" title="响应数据包"></a>响应数据包</h3><ul>
<li>HTTP/1.1(协议版本号) 200(状态码) OK(状态信息)</li>
<li>Server: Apache-Coyote/1.1(服务器信息)</li>
<li>Content-Type: text/html;charset=utf-8(响应数据类型及字符集)</li>
<li>Content-Length: 21(数据长度)</li>
<li><p>Date: Tue, 03 Apr 2018 07:44:01 GMT(当前时间)</p>
</li>
<li><p>http请求包中包含:请求头和请求体</p>
</li>
<li>http响应包中包含:响应头和响应体</li>
</ul>
<h3 id="请求方式-GET和POST"><a href="#请求方式-GET和POST" class="headerlink" title="请求方式:GET和POST"></a>请求方式:GET和POST</h3><ul>
<li><p>GET:</p>
<ul>
<li>请求参数放在请求地址的后面</li>
<li>提交的数据量比较小(大小在2k左右的数据)</li>
<li>不能提交敏感信息因为在地址栏中可能会显示出来,或者某些路由器会保存请求地址中的信息</li>
</ul>
</li>
<li><p>浏览器什么时候会发出get请求:</p>
<ul>
<li>在地址栏中发出的请求就是get请求</li>
<li>form表单默认的请求方式就是get</li>
<li>点击超链接所发出的请求也是get</li>
</ul>
</li>
<li><p>POST:</p>
<ul>
<li>会将请求参数放在请求体里面,没有大小限制</li>
<li>敏感信息相对安全</li>
</ul>
</li>
<li><p>浏览器什么时候会发出post请求</p>
<ul>
<li>只有当表单的提交方式修改为post的时候</li>
</ul>
</li>
</ul>
<h3 id="Servlet中service-和doGet-doPost的关系"><a href="#Servlet中service-和doGet-doPost的关系" class="headerlink" title="Servlet中service 和doGet/doPost的关系"></a>Servlet中service 和doGet/doPost的关系</h3><p>当Servlet组件被tomcat容器调用执行的时候会先执行service方法,在Service方法中判断请求方式是get就访问doGet 如果是post就访问doPost</p>
<h3 id="获取请求头里面的数据"><a href="#获取请求头里面的数据" class="headerlink" title="获取请求头里面的数据"></a>获取请求头里面的数据</h3><ul>
<li><code>String uri = request.getRequestURI();</code></li>
<li><code>StringBuffer url = request.getRequestURL();</code></li>
<li><code>String httpVersion = request.getProtocol();</code></li>
</ul>
<h3 id="设置响应头数据"><a href="#设置响应头数据" class="headerlink" title="设置响应头数据"></a>设置响应头数据</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//设置响应数据类型和字符集</span></div><div class="line">response.setContentType(<span class="string">"text/html;charset=utf-8"</span>);</div><div class="line"><span class="comment">//设置刷新时间</span></div><div class="line">response.setHeader(<span class="string">"refresh"</span>, <span class="string">"3;info.html"</span>);</div></pre></td></tr></table></figure>
<h3 id="乱码"><a href="#乱码" class="headerlink" title="乱码"></a>乱码</h3><h4 id="响应数据有中文"><a href="#响应数据有中文" class="headerlink" title="响应数据有中文"></a>响应数据有中文</h4><ul>
<li><code>response.setContentType(&quot;text/html;charset=utf-8&quot;);</code><h4 id="请求参数有中文"><a href="#请求参数有中文" class="headerlink" title="请求参数有中文"></a>请求参数有中文</h4></li>
<li><p>get请求:</p>
<ol>
<li><p><code>new String(gender.getBytes(&quot;iso8859-1&quot;),&quot;utf-8&quot;);</code></p>
</li>
<li><p>修改server配置文件 65左右 &lt;Connector URIEncoding=”utf-8”</p>
</li>
</ol>
</li>
<li><p>post:</p>
<ul>
<li><p>为什么出现乱码:在post表单提交数据的时候使用当前页面的解码格式进行编码,因为Request对象默认使用iso8859-1解码 所以需要使用以下方式解决乱码问题</p>
</li>
<li><p>解决方案:在获取参数之前添加以下代码<br><code>request.setCharacterEncoding(&quot;utf-8&quot;);</code></p>
</li>
</ul>
</li>
</ul>
<p><strong>以后写Servlet代码 需要添加以下两行代码</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">request.setCharacterEncoding(<span class="string">"utf-8"</span>);</div><div class="line">response.setContentType(<span class="string">"text/html;charset=utf-8"</span>);</div></pre></td></tr></table></figure></p>
<h2 id="定时刷新及定时跳转"><a href="#定时刷新及定时跳转" class="headerlink" title="定时刷新及定时跳转"></a>定时刷新及定时跳转</h2><ul>
<li><code>response.setHeader(&quot;refresh&quot;,&quot;2&quot;);</code></li>
<li><code>response.setHeader(&quot;refresh&quot;,&quot;2;home.html&quot;);</code></li>
</ul>
<h2 id="如何隐藏关闭的工程"><a href="#如何隐藏关闭的工程" class="headerlink" title="如何隐藏关闭的工程"></a>如何隐藏关闭的工程</h2><ul>
<li>在左侧边栏右上角的小三角点击  点击 customView -&gt; filters-&gt;closed Project</li>
</ul>
<h2 id="如何分组显示项目"><a href="#如何分组显示项目" class="headerlink" title="如何分组显示项目"></a>如何分组显示项目</h2><ul>
<li>在左侧边栏右上角的小三角点击  点击Top level Element 选择Working set 然后重新点击小三角 选择select working set 在里面点击new -&gt;Java 给分组起名然后分配工程到此分组里面,也可以不分配之后以拖拽的方式分配项目</li>
</ul>
<h3 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h3><ul>
<li>什么是重定向:让浏览器往另外一个地址重新发出请求</li>
<li>实现原理: 重定向命令会给浏览器返回一个302的状态码 和一个location的参数 ,浏览器接收到302状态码后会向location参数的地址发出请求</li>
<li>重定向案例:<pre><code>`response.sendRedirect(request.getContextPath()+&quot;/FindAllServlet&quot;);`
</code></pre></li>
<li>得到当前工程根路径的方式:<ul>
<li><code>request.getContextPath()</code></li>
</ul>
</li>
</ul>
<h2 id="路径的匹配"><a href="#路径的匹配" class="headerlink" title="路径的匹配"></a>路径的匹配</h2><h3 id="两种匹配方式"><a href="#两种匹配方式" class="headerlink" title="两种匹配方式:"></a>两种匹配方式:</h3><ul>
<li>精确匹配:web.xml中的url parttern要和请求地址一致</li>
<li><p>模糊匹配: 通过添加* 的方式让多个请求地址对应一个Servlet</p>
<ol>
<li><p><code>/*</code>:  *代表一个或多个未知,此地址会对应所有的动态资源地址(servlet地址) /abc  /bcd /aaa /a/b/c /x/y<br><code>http://localhost:8080/appname/(内容任意)</code></p>
</li>
<li><p><code>/user/*</code>:此匹配地址必须要求请求地址中必须是<br><code>http://localhost:8080/appname/user/(内容任意)</code></p>
</li>
<li><p>后缀匹配 <code>*.do</code>(*.action)<br><code>http://localhost:8080/appname/xxxx.do</code></p>
</li>
</ol>
</li>
</ul>
<h3 id="浏览器输入一个地址查找资源的过程是怎样的"><a href="#浏览器输入一个地址查找资源的过程是怎样的" class="headerlink" title="浏览器输入一个地址查找资源的过程是怎样的?"></a>浏览器输入一个地址查找资源的过程是怎样的?</h3><pre><code>1. 在当前应用的web.xml中查找是否有与之匹配的动态资源路径(Servlet)
2. 如果匹配到则执行相对应的Servlet
3. 如果没有匹配到会使用默认的Servlet查找是否有同名的静态资源
4. 如果有则返回资源文件
5. 如果没有则页面会显示404(找不到资源)
总结:先找动态 然后找静态 都找不到就404
</code></pre><h3 id="复制工程时注意事项"><a href="#复制工程时注意事项" class="headerlink" title="复制工程时注意事项"></a>复制工程时注意事项</h3><ul>
<li>如果复制工程,需要在工程上右键<code>properties-&gt;web settings</code>修改里面的名称,此时的名称为复制之前工程的名称,修改成新工程的名字</li>
</ul>
<h2 id="Servlet的生命周期"><a href="#Servlet的生命周期" class="headerlink" title="Servlet的生命周期"></a>Servlet的生命周期</h2><ul>
<li>什么是生命周期: 什么时候实例化 什么时候初始化 什么时候调用方法 什么时候销毁</li>
<li><p>实例化:  两种情况:</p>
<ol>
<li>默认什么时候请求 什么时候实例化</li>
<li>web容器启动的时候实例化 需要在Web.xml中进行配置 <code>&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</code>数值越小 优先级越高</li>
</ol>
</li>
<li><p>初始化: 当请求地址在web.xml中匹配到相应的Servlet的时候 web容器会通过反射实例化Servlet对象 并且调用有参数的init方法 在有参数的方法中调用了无参的init()如果需要写初始化代码 重写无参的init();</p>
</li>
<li>方法调用: service doget dopost web容器先实例化Servlet然后初始化Servlet 然后web容器调用service方法在Service方法中判断请求方式然后调用doget或doPost方法</li>
<li>销毁: 当工程从web容器(Tomcat)中卸载的时候执行</li>
</ul>
<h3 id="执行步骤"><a href="#执行步骤" class="headerlink" title="执行步骤:"></a>执行步骤:</h3><ul>
<li>实例化-&gt;初始化-&gt;方法调用-&gt;销毁</li>
</ul>
<h2 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h2><ul>
<li>什么是JSP: Java Server Page java服务器页面<br>是sun公司提供的一套动态页面规范<ol>
<li>虽然直接使用Servlet也可以生成动态页面,但是操作过于繁琐(out.pringtln()),也不利于页面的维护,所以sun公司才提出了jsp规范</li>
<li>jsp实际上就是一个以.jsp结尾的文件,可以在此文件中写html(css/javaScript)也可以写Java代码片段,容器会将此文件转换成Servlet来执行<br>总结:jsp文件的本质就是Servlet</li>
</ol>
</li>
<li>如何创建jsp文件<ol>
<li>创建一个file 名称为first.jsp</li>
<li>在jsp文件中可以写以下内容<h3 id="Html-包括css-JavaScript"><a href="#Html-包括css-JavaScript" class="headerlink" title="Html(包括css,JavaScript)"></a>Html(包括css,JavaScript)</h3>直接写即可和操作html文件一样<h3 id="Java代码"><a href="#Java代码" class="headerlink" title="Java代码"></a>Java代码</h3></li>
</ol>
</li>
<li>两种写法:<ol>
<li>&lt;% java代码 %&gt; 转换成servlet时会直接照搬过去</li>
<li>&lt;%=java表达式 %&gt; 只能输出一行 等效out.println(java表达式)<h3 id="隐含对象"><a href="#隐含对象" class="headerlink" title="隐含对象"></a>隐含对象</h3></li>
</ol>
</li>
<li>什么是隐含对象<ul>
<li>在jsp中不用创建可以直接使用的对象称为隐含对象(比如:out,request,response,servletConfig…)</li>
</ul>
</li>
<li>为什么可以直接用隐含对象<ul>
<li>因为把jsp转成servlet的时候会自动生成创建这些对象的代码<h3 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h3></li>
</ul>
</li>
<li>什么是指令:告诉容器,将jsp转成servlet的时候所做的一些额外操作 比如 import contentType pageEncoding等<br>  pageEncoding指令<br>有些容器在读取磁盘中的jsp文件时默认的解码是iso-8859-1(tomcat默认是utf-8),但是通常jsp文本保存时选择的编码字符集是utf-8,为了保证编码和解码字符集一致所以在页面中通过pageEncoding属性设置解码字符集<br>weblogic bea 收费 默认是iso-8859-1</li>
</ul>
<h2 id="jsp是如何执行的"><a href="#jsp是如何执行的" class="headerlink" title="jsp是如何执行的"></a>jsp是如何执行的</h2><ol>
<li>容器会将jsp文件转成一个servlet<ul>
<li>html(css,js)—&gt;在_jspService中 通过out.write</li>
<li>&lt;% %&gt; —-&gt; 直接原样照搬到_jspService中</li>
<li>&lt;%= %&gt;—-&gt; 在_jspService中 使用 out.print()</li>
</ul>
</li>
<li>容器和调用其它servlet一样调用此Servlet</li>
</ol>
<p>练习: 自己写一个jsp 显示当前时间<br>    格式为 2018年10月20日 11点23分44秒</p>
<p>练习: 显示用户表中的所有用户信息</p>
<p>###cellpadding 内容距td边框的距离</p>
<p>###cellspacing td边框距table边框的距离</p>
<p>Servlet(显示  业务逻辑)<br>Dao数据访问</p>
<p>JSP(显示 业务逻辑)<br>Dao数据访问</p>
<p>##三层架构<br>JSP(显示)<br>Servlet(业务逻辑)<br>Dao数据访问<br>案例:查询所有用户</p>
<ol>
<li>Servlet: 执行查询数据的代码放在Servlet里面</li>
<li>JSP:控制显示的代码<br>##转发<br>一个web组件将未完成的工作交给另外一个web组件<br> web组件(Servlet和jsp)<br>通常情况下是在Servlet里面获取数据,然后把数据交给Jsp显示<br>浏览器发请求-&gt;Servlet -&gt; Jsp<br>以前请求发送到Servlet或jsp 现在分层之后 先把请求发送到Servlet,在Servlet里面获取数据 然后把数据转发给Jsp显示<br>浏览器发请求-&gt;Servlet<br>浏览器发请求-&gt;Jsp<br>##如何实现转发</li>
<li>把数据绑定到request对象上 可以绑定多个数据<br> request.setAttribute(“users”, users);</li>
<li>得到转发器 并调用forward方法<br> RequestDispatcher dispatcher =<pre><code>request.getRequestDispatcher(&quot;userlist3.jsp&quot;);
dispatcher.forward(request, response);
</code></pre> 注意:转发实际上就是web容器找到相对应的组件并且执行了组件的_jspService方法<br>##转发的特点<ol>
<li>转发的目的地有限制只能是应用内部的资源</li>
<li>转发后浏览器的地址栏不变<br>###转发和重定向的区别:<br><img src="01.png" alt=""></li>
</ol>
</li>
<li>浏览器地址栏有没有变化?<br> -转发没有<br> -重定向有变化</li>
<li>能否共享Request和Response对象<br> -转发:可以共享,因为转发只有一次请求web容器只创建了一对Request和Response对象两个组件使用的是相同的<br> -重定向:不可以共享:因为两次请求,web容器创建了两对Request和Response 每个组件使用的是自己的Request和Response</li>
<li>访问地址有何区别<br> -转发:只能访问工程内部的资源<br> -重定向:可以访问任意地址</li>
</ol>
<h2 id="include-指令"><a href="#include-指令" class="headerlink" title="include 指令"></a>include 指令</h2><ul>
<li>引入一个jsp页面，实现页面复用</li>
<li><code>&lt;jsp:include page=&quot;file.jsp&quot;&gt;</code></li>
</ul>
<h2 id="路径相关问题"><a href="#路径相关问题" class="headerlink" title="路径相关问题"></a>路径相关问题</h2><ul>
<li>转发，重定向，表单提交，超链接<ul>
<li><code>request.getDispatcher(&quot;&quot;)</code></li>
<li><code>response.sendRedirect(&quot;&quot;)</code></li>
<li><code>&lt;form action=&quot;&quot;&gt;</code></li>
<li><code>&lt;a href=&quot;&quot;&gt;&lt;/a&gt;</code></li>
</ul>
</li>
</ul>
<h3 id="相对路径"><a href="#相对路径" class="headerlink" title="相对路径"></a>相对路径</h3><ul>
<li><p>不以<code>/</code>开头的路径就是相对路径，此路径相对于当前组件的位置</p>
</li>
<li><p>如果想要找到上一级的资源需要加上 <code>../</code></p>
<ul>
<li>访问上上级的a.jsp :  <code>../../a.jsp</code></li>
</ul>
</li>
</ul>
<h3 id="绝对路径"><a href="#绝对路径" class="headerlink" title="绝对路径"></a>绝对路径</h3><ul>
<li>假设工程名为web1<ul>
<li>获取工程名 : <code>request.getContextPath()</code></li>
</ul>
</li>
<li>以<code>/</code>开头的路径是绝对路径</li>
<li><strong>转发从工程名之后写</strong><ul>
<li><code>request.getDispatcher(&quot;/jsp/a.jsp&quot;)</code>  直接省略前面的工程名</li>
</ul>
</li>
<li><strong>其他(重定向，超链接，表单提交)从工程名开始写</strong><ul>
<li><code>&lt;a href=&quot;&lt;%=request.getContextPath() %&gt;/jsp/a.jsp&quot;&gt;</code></li>
<li><code>&lt;form action=&quot;&lt;%=request.getContextPath() %&gt;/jsp/helloServlet&quot;&gt;</code></li>
<li><code>response.sendRedirect(&quot;&lt;%=request.getContextPath() %&gt;/jsp/a.jsp&quot;)</code></li>
</ul>
</li>
</ul>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul>
<li>以后工作中更多的使用的是绝对路径，可维护性和扩展性更好，相对路径可能会出现一个地方更改多个地方出现错误的情况</li>
</ul>
<h2 id="状态管理（数据管理）"><a href="#状态管理（数据管理）" class="headerlink" title="状态管理（数据管理）"></a>状态管理（数据管理）</h2><h3 id="什么是状态管理"><a href="#什么是状态管理" class="headerlink" title="什么是状态管理"></a>什么是状态管理</h3><ul>
<li>将浏览器和服务器之间的多次交互建立关系，此时需要数据建立关系，数据保存和修改称为状态管理。状态即是数据</li>
</ul>
<h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><ul>
<li>把少量数据保存在浏览器(客户端)的一种技术</li>
<li><p>cookie默认是保存在内存中，浏览器关闭则清除，如果设置了时间为0则立即清除，如果设置时间为正整数，则保存在磁盘中，时间到后自动删除</p>
</li>
<li><p>工作原理：</p>
<ul>
<li>浏览器访问服务器时，服务器会将一些数据以<code>setCookie</code>的形式把数据存放到响应的消息头中，然后浏览器再次访问服务器时，会将Cookie数据放在请求的消息头中，这样服务器就能够得到之前请求时保存的一些数据，这样多次请求就能建立联系</li>
</ul>
</li>
<li><p>服务器如何添加cookie：</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//创建一个cookie对象</span></div><div class="line">Cookie cookie= <span class="keyword">new</span> Cookie(<span class="string">"name"</span>, <span class="string">"xiaoming"</span>);</div><div class="line"><span class="comment">//设置cookie的过期时间，如果设置为0表示立即清除，如果没有设置那么浏览器关闭之后就会清除</span></div><div class="line">cookie.setMaxAge(<span class="number">100</span>);</div><div class="line"><span class="comment">//添加到响应头中，并且返回给浏览器</span></div><div class="line">response.addCookie(cookie);</div></pre></td></tr></table></figure>
<ul>
<li>此时在浏览器中就可以查看到这个cookie的值了(name属性对应的值)</li>
</ul>
</li>
<li><p>cookie时间：</p>
<ul>
<li>如果Cookie没有设置时间，时间为负整数，cookie保存在内存中，如果浏览器关闭，则数据清除</li>
<li>如果cookie时间设置为0，是立即清除cookie的意思</li>
<li>如果设置成为大于0 的整数，此时的cookie会保存到磁盘中，当时间到了之后会自动删除</li>
<li><code>cookie.setMaxAge(100);</code> 单位是秒</li>
</ul>
</li>
<li><p>获取cookie的值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 获取Cookie，返回的是一个数组</span></div><div class="line">	Cookie[] cookies = request.getCookies();</div><div class="line">	<span class="comment">//如果Cookies存在，读取</span></div><div class="line">	<span class="keyword">if</span> (cookies != <span class="keyword">null</span>) &#123;</div><div class="line">		<span class="keyword">for</span>(Cookie cookie : cookies)&#123;</div><div class="line">			System.out.println(cookie.getName()+<span class="string">" : "</span> + cookie.getValue());</div><div class="line">		&#125;</div><div class="line">	&#125;<span class="keyword">else</span> &#123;</div><div class="line">		System.out.println(<span class="string">"其中没有cookie"</span>);</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>cookie的路径</p>
<ul>
<li><p>如果不设置路径，默认会以当前组件的路径为准，只有当访问地址为当前组件地址或者组件地址的子地址时才会带上cookie</p>
<ul>
<li>假设我们添加cookie的servlet为 <code>http://localhost:8080/web1/cookie/setCookieServlet</code>,那么我们的获取添加的cookie的servlet地址只有是<code>http://localhost:8080/web1/cookie</code>这个地址的子地址(后代),比如<code>http://localhost:8080/web1/cookie/user/getCookieServlet</code></li>
</ul>
</li>
<li><p>为cookie设置路径</p>
<ul>
<li>cookie.setPath(“/“);</li>
</ul>
</li>
<li><p>举例：</p>
<ul>
<li>如果设置path为 <code>/a</code><ul>
<li><code>/a/servlet1</code>    : yes</li>
<li><code>/b/servlet2</code>     : no</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>cookie的编码问题</p>
<ul>
<li><p>cookie只能保存英文，不能保存中文，如果需要保存中文，那么需要编码</p>
</li>
<li><p>中文编码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">String name=<span class="string">"小明"</span>;</div><div class="line"><span class="comment">//对中文进行url编码</span></div><div class="line">name=URLEncoder.encode(name,<span class="string">"utf-8"</span>);</div><div class="line"><span class="comment">//创建一个cookie对象</span></div><div class="line">Cookie cookie= <span class="keyword">new</span> Cookie(<span class="string">"name"</span>, name);</div><div class="line"><span class="comment">//设置cookie的过期时间，如果设置为0表示立即清除，如果没有设置那么浏览器关闭之后就会清除</span></div><div class="line">cookie.setMaxAge(<span class="number">100</span>);</div><div class="line"></div><div class="line">System.out.println(cookie.getPath());</div><div class="line"><span class="comment">//添加到响应头中，并且返回给浏览器</span></div><div class="line">response.addCookie(cookie);</div></pre></td></tr></table></figure>
</li>
<li><p>将获取的中文cookie解码输出</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 获取Cookie，返回的是一个数组</span></div><div class="line">Cookie[] cookies = request.getCookies();</div><div class="line"><span class="comment">//如果Cookies存在，读取</span></div><div class="line"><span class="keyword">if</span> (cookies != <span class="keyword">null</span>) &#123;</div><div class="line">	<span class="keyword">for</span>(Cookie cookie : cookies)&#123;</div><div class="line">		String value=cookie.getValue();</div><div class="line">		<span class="comment">//把cookie的值取出，然后url解码</span></div><div class="line">		value=URLDecoder.decode(value,<span class="string">"utf-8"</span>);</div><div class="line">		System.out.println(cookie.getName()+<span class="string">" : "</span> + value);</div><div class="line">	&#125;</div><div class="line">&#125;<span class="keyword">else</span> &#123;</div><div class="line">	System.out.println(<span class="string">"其中没有cookie"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>cookie的限制</p>
<ul>
<li>cookie可以被用户禁止</li>
<li>cookie不安全 ，对于敏感信息一定要加密</li>
<li>cookie的数据大小有限制，大约4k左右</li>
<li>cookie总数也有限制，大约200个左右</li>
</ul>
</li>
</ul>
<h4 id="使用cookie记录客户端访问次数"><a href="#使用cookie记录客户端访问次数" class="headerlink" title="使用cookie记录客户端访问次数"></a>使用cookie记录客户端访问次数</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></div><div class="line">			HttpServletResponse response) <span class="keyword">throws</span> ServletException, IOException &#123;</div><div class="line">		Cookie[] cookies = request.getCookies();</div><div class="line">		Map&lt;String, String&gt; map = getValues(cookies);   <span class="comment">//获取map</span></div><div class="line">		String stringCount = map.get(<span class="string">"count"</span>); <span class="comment">// 获取指定的value</span></div><div class="line">		<span class="keyword">if</span> (stringCount == <span class="keyword">null</span>) &#123;<span class="comment">// 第一次请求</span></div><div class="line">			stringCount = <span class="string">"1"</span>; <span class="comment">// 设置访问次数为1</span></div><div class="line">		&#125; <span class="keyword">else</span> &#123;<span class="comment">// 不是第一次请求</span></div><div class="line">			<span class="comment">// 请求次数+1</span></div><div class="line">			stringCount = <span class="string">""</span> + (Integer.parseInt(stringCount) + <span class="number">1</span>);</div><div class="line">		&#125;</div><div class="line">		Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">"count"</span>, stringCount); <span class="comment">// 把运行次数放置到cookie中</span></div><div class="line">		response.addCookie(cookie); <span class="comment">// 添加cookie,如果前面已经存在了，那么相当于更新cookie的值</span></div><div class="line">		System.out.println(stringCount);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">/**</span></div><div class="line">	 * 将cookie数组中的键值对存放到Map中,这样就能判断出这个cookie中是否含有指定的key</div><div class="line">	 */</div><div class="line">	<span class="function"><span class="keyword">public</span> Map&lt;String, String&gt; <span class="title">getValues</span><span class="params">(Cookie[] cookies)</span> </span>&#123;</div><div class="line">		Map&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;String, String&gt;();</div><div class="line">		<span class="keyword">if</span> (cookies != <span class="keyword">null</span>) &#123;</div><div class="line">			<span class="keyword">for</span> (Cookie cookie : cookies) &#123;</div><div class="line">				map.put(cookie.getName(), cookie.getValue());</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> map;</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<h3 id="使用cookie保存登录的用户名和信息"><a href="#使用cookie保存登录的用户名和信息" class="headerlink" title="使用cookie保存登录的用户名和信息"></a>使用cookie保存登录的用户名和信息</h3><ul>
<li>需求：<ul>
<li>当用户选择了记住用户名和密码的选项，那么当用户登录成功的时候，接下来每次请求登录页面的时候浏览器会自动显示之前成功登录的用户名和密码</li>
</ul>
</li>
</ul>
<ul>
<li><p>实现：</p>
<ul>
<li>一个单选按钮，选择是否记录登录信息，jsp页面</li>
<li>在表单提交给servlet之后，验证用户是否登录成功，如果登录成功了并且还选择了记住用户名和密码，那么就将此时的用户名和密码信息添加到cookie中</li>
<li><p>在每次跳转到登录页面的时候都需要经过一个Servlet，这个Servlet的作用是获取cookie的值，并且存放在request域中，这样在login.jsp页面中就可以使用这个值</p>
</li>
<li><p>login.jsp</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&lt;form action="/Servlet01/RememberLoginServlet" method="post"&gt;</div><div class="line">				&lt;table cellpadding="0" cellspacing="0" border="0"</div><div class="line">					class="form_table"&gt;</div><div class="line">					&lt;tr&gt;</div><div class="line">						&lt;td valign="middle" align="right"&gt;username:&lt;/td&gt;</div><div class="line">						&lt;td valign="middle" align="left"&gt;&lt;input type="text"</div><div class="line">							class="inputgri" name="username" value="&lt;%=request.getAttribute("username") %&gt;" /&gt;&lt;/td&gt;</div><div class="line">					&lt;/tr&gt;</div><div class="line">					&lt;tr&gt;</div><div class="line">						&lt;td valign="middle" align="right"&gt;password:&lt;/td&gt;</div><div class="line">						&lt;td valign="middle" align="left"&gt;&lt;input type="password"</div><div class="line">							class="inputgri" name="password" value="&lt;%=request.getAttribute("password") %&gt;" /&gt;&lt;/td&gt;</div><div class="line">					&lt;/tr&gt;</div><div class="line"></div><div class="line">					&lt;tr&gt;</div><div class="line">						&lt;td&gt;&lt;/td&gt;</div><div class="line">						&lt;td valign="middle" align="left"&gt;</div><div class="line">							&lt;input type="checkbox" name="isRemember"&gt;记住用户名和密码一周</div><div class="line">						&lt;/td&gt;</div><div class="line">					&lt;/tr&gt;</div></pre></td></tr></table></figure>
<pre><code>    &lt;/table&gt;
    &lt;p&gt;
        &lt;input type=&quot;submit&quot; class=&quot;button&quot; value=&quot;Submit &amp;raquo;&quot; /&gt;
    &lt;/p&gt;
&lt;/form&gt;
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line">- 验证用户，保存信息到cookie中的servlet</div><div class="line"></div><div class="line">```java</div><div class="line">@Override</div><div class="line">protected void doPost(HttpServletRequest request,</div><div class="line">		HttpServletResponse response) throws ServletException, IOException &#123;</div><div class="line">	request.setCharacterEncoding(&quot;UTF-8&quot;); // 设置中文格式</div><div class="line">	//设置响应字符集必须写在获取输出对象的前面</div><div class="line">	response.setContentType(&quot;text/html;charset=utf-8&quot;);</div><div class="line">	PrintWriter writer=response.getWriter();</div><div class="line">	// 获取用户名和密码</div><div class="line">	String username = request.getParameter(&quot;username&quot;);</div><div class="line">	String password = request.getParameter(&quot;password&quot;);</div><div class="line">	String isRemeber = request.getParameter(&quot;isRemember&quot;);</div><div class="line"></div><div class="line">	// 登录流程</div><div class="line">	Connection connection = null;</div><div class="line">	PreparedStatement statement = null;</div><div class="line">	ResultSet resultSet = null;</div><div class="line">	try &#123;</div><div class="line">		connection = DBUtils.getConn(); // 获取连接</div><div class="line">		String sql = &quot;select count(*) c from user where username=? and password=?&quot;;</div><div class="line">		statement = connection.prepareStatement(sql);   //创建预编译对象</div><div class="line">		//设置占位符的值</div><div class="line">		statement.setString(1, username);</div><div class="line">		statement.setString(2, password);</div><div class="line">		resultSet = statement.executeQuery(); // 执行查询语句</div><div class="line">		//遍历查询结果集，如果count&gt;0 表示登录成功，如果=0表示用户名或密码错误</div><div class="line">		while (resultSet.next()) &#123;</div><div class="line">			int count = resultSet.getInt(&quot;c&quot;); // 获取总数</div><div class="line">			if (count &gt; 0) &#123;</div><div class="line">				System.out.println(&quot;登录成功&quot;);</div><div class="line"></div><div class="line">				// 判断是否记住密码</div><div class="line">				//如果设置了记住密码，那么就将此时的用户名和密码保存在cookie中</div><div class="line">				if (isRemeber != null) &#123;</div><div class="line">					//将username和password添加到cookie中</div><div class="line">					Cookie cookie=new Cookie(&quot;loginInfo&quot;, username+&quot;,&quot;+password);</div><div class="line">					cookie.setMaxAge(7*24*3600);  //设置时间为一周，单位为秒</div><div class="line">					response.addCookie(cookie);</div><div class="line">				&#125;</div><div class="line">				//跳转到首页</div><div class="line">				request.getRequestDispatcher(&quot;home.jsp&quot;).forward(request, response);</div><div class="line">			&#125; else &#123;</div><div class="line">				System.out.println(&quot;登录失败，用户名或密码错误&quot;);</div><div class="line">				response.sendRedirect(&quot;/Servlet01/ShowLoginCookieServlet&quot;);  //重定向到登录界面</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125; catch (Exception e) &#123;</div><div class="line">		e.printStackTrace();</div><div class="line">		writer.write(&quot;服务器出错.....&quot;);</div><div class="line">	&#125; finally &#123;</div><div class="line">		DBUtils.close(connection, statement, resultSet); // 关闭资源</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<pre><code>- 获取cookie值，存放到request域中，便于在login.jsp页面中访问到信息

<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Override</span></div><div class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></div><div class="line">		HttpServletResponse response) <span class="keyword">throws</span> ServletException, IOException &#123;</div><div class="line">	Cookie[] cookies = request.getCookies();</div><div class="line">	Map&lt;String, String&gt; map = getValues(cookies);</div><div class="line">	String loginInfo = map.get(<span class="string">"loginInfo"</span>); <span class="comment">// 获取cookie的值</span></div><div class="line">	String username = <span class="string">""</span>;</div><div class="line">	String password = <span class="string">""</span>;</div><div class="line">	<span class="keyword">if</span> (loginInfo != <span class="keyword">null</span>) &#123;</div><div class="line">		username = loginInfo.split(<span class="string">","</span>)[<span class="number">0</span>]; <span class="comment">// 分割字符串，获取信息</span></div><div class="line">		password = loginInfo.split(<span class="string">","</span>)[<span class="number">1</span>];</div><div class="line">	&#125;</div><div class="line">	request.setAttribute(<span class="string">"username"</span>, username);</div><div class="line">	request.setAttribute(<span class="string">"password"</span>, password);</div><div class="line">	request.getRequestDispatcher(<span class="string">"login.jsp"</span>).forward(request, response);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * 将cookie数组中的键值对存放到Map中,这样就能判断出这个cookie中是否含有指定的key</div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">public</span> Map&lt;String, String&gt; <span class="title">getValues</span><span class="params">(Cookie[] cookies)</span> </span>&#123;</div><div class="line">	Map&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;String, String&gt;();</div><div class="line">	<span class="keyword">if</span> (cookies != <span class="keyword">null</span>) &#123;</div><div class="line">		<span class="keyword">for</span> (Cookie cookie : cookies) &#123;</div><div class="line">			map.put(cookie.getName(), cookie.getValue());</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> map;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</code></pre><h3 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h3><ul>
<li><p>服务端为了保存状态（数据）创建的一个特殊的对象，session数据会保存在服务器</p>
</li>
<li><p>工作原理</p>
<ul>
<li>当浏览器第一次向服务器请求，服务器创建一个session对象，然后把session对象的唯一标识sessionid以cookie的形式返回给浏览器，服务器通过sessionid找到上次保存的session对象，这样的话多次请求只需要把数据保存在session对象中，</li>
</ul>
</li>
</ul>
<h4 id="如何创建Session对象"><a href="#如何创建Session对象" class="headerlink" title="如何创建Session对象"></a>如何创建Session对象</h4><ul>
<li><code>HttpSession session=request.getSession(boolean flag)</code><ul>
<li>参数为false，如果不存在这个session，那么就返回一个null</li>
<li>参数为true，会通过cookie中的sessionid获取之前保存的session对象，如果有则返回，如果没有则创建一个新的session，这个是默认的形式<strong>（缺省值为true）</strong></li>
</ul>
</li>
</ul>
<h4 id="添加删除数据"><a href="#添加删除数据" class="headerlink" title="添加删除数据"></a>添加删除数据</h4><ul>
<li>setAttribute(key,value)</li>
<li>getAtttribute(key,value)</li>
<li>removeAttribute(key)</li>
</ul>
<h4 id="session超时"><a href="#session超时" class="headerlink" title="session超时"></a>session超时</h4><ul>
<li><p>session默认时间是在服务器保存30分钟</p>
</li>
<li><p>如何修改session存活时间</p>
<ul>
<li><p>修改配置文件</p>
<ul>
<li>在servers中的web.xml中查找如下<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">session-config</span>&gt;</span></div><div class="line">     		<span class="tag">&lt;<span class="name">session-timeout</span>&gt;</span>30<span class="tag">&lt;/<span class="name">session-timeout</span>&gt;</span></div><div class="line"> 		<span class="tag">&lt;/<span class="name">session-config</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>通过代码设置时间</p>
<ul>
<li><code>session.setMaxInactiveInterval(int mils);</code> 单位为秒</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="删除session"><a href="#删除session" class="headerlink" title="删除session"></a>删除session</h4><ul>
<li><code>session.invalidate()</code></li>
</ul>
<h4 id="删除session中的数据"><a href="#删除session中的数据" class="headerlink" title="删除session中的数据"></a>删除session中的数据</h4><ul>
<li><code>session.removeAttribute(key)</code></li>
</ul>
<h3 id="实现自动登录（Session"><a href="#实现自动登录（Session" class="headerlink" title="实现自动登录（Session)"></a>实现自动登录（Session)</h3><ul>
<li>这个在学到过滤器的时候再讲</li>
</ul>
<h2 id="Base64加密"><a href="#Base64加密" class="headerlink" title="Base64加密"></a>Base64加密</h2><ul>
<li>什么是Base64： 将任意二进制数据转换成字符串（由64个基础字符组成a-z A-Z 0-9 + /),可以将需要加密的字符串转换成二进制数据后再转换成Base64的字符串，也可以把任意文件的二进制数据转换成可见的字符串</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">String pw=<span class="string">"admin"</span>;</div><div class="line">BASE64Encoder encoder=<span class="keyword">new</span> BASE64Encoder();</div><div class="line">String newPW=encoder.encode(pw.getBytes(<span class="string">"utf-8"</span>));</div><div class="line">System.out.println(newPW);</div><div class="line"></div><div class="line"><span class="comment">//解密</span></div><div class="line">BASE64Decoder decoder=<span class="keyword">new</span> BASE64Decoder();</div><div class="line">String oldPw=<span class="keyword">new</span> String(decoder.decodeBuffer(newPW),<span class="string">"utf-8"</span>);</div><div class="line">System.out.println(oldPw);</div></pre></td></tr></table></figure>
<h2 id="比较cookie和Session"><a href="#比较cookie和Session" class="headerlink" title="比较cookie和Session"></a>比较cookie和Session</h2><ul>
<li><p>cookie： 优点不占用服务器资源，缺点：大小有限制4k 数量限制200左右 内容有限制只能存放字符串，cookie不够安全而且有些浏览器可以模拟cookie数据</p>
</li>
<li><p>Session： <strong>优点</strong>:安全（因为数据保存在服务器）大小无限制，保存数据类型丰富，<strong>缺点</strong>： 占用资源，浏览器关闭后Session则失效,因为session的是状态是存储在cookie中的seessionid决定的。</p>
</li>
</ul>
<h2 id="自动登录加强版"><a href="#自动登录加强版" class="headerlink" title="自动登录加强版"></a>自动登录加强版</h2><ul>
<li>需要自己创建一个cookie</li>
</ul>
<h2 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h2><h3 id="什么是过滤器"><a href="#什么是过滤器" class="headerlink" title="什么是过滤器"></a>什么是过滤器</h3><ul>
<li>Servlet规范中定义的是一种特殊组件，用来拦截web容器调用Servlet/jsp组件的过程</li>
<li>好处： 可以在不改动Servlet的情况下增加业务功能，可以起到代码复用的作用，因为一个过滤器可以对应拦截多个Servlet</li>
</ul>
<h3 id="如何创建一个过滤器"><a href="#如何创建一个过滤器" class="headerlink" title="如何创建一个过滤器"></a>如何创建一个过滤器</h3><ul>
<li><p>new - &gt; Filter</p>
<ul>
<li><p>这样就创建一个过滤器，其中的类实现了Filter这个接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MyFilter</span><span class="params">()</span> </span>&#123;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"过滤器被销毁"</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest request, ServletResponse response,</span></span></div><div class="line">			FilterChain chain) <span class="keyword">throws</span> IOException, ServletException &#123;</div><div class="line">		System.out.println(<span class="string">"过滤器执行"</span>);</div><div class="line">		chain.doFilter(request, response);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig fConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</div><div class="line">		System.out.println(<span class="string">"过滤器初始化"</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>这个类中同样有init和destroy方法，但是实现代码逻辑实在doFilter()这个方法中</p>
</li>
<li>在web.xml中配置这个过滤器<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 配置Filter 的name和class --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">filter</span>&gt;</span></div><div class="line">  	<span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>MyFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></div><div class="line">  	<span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>cn.filter.MyFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">filter</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 配置Filter的过滤的url，其中的name是前面定义好的 --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></div><div class="line">  	<span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>MyFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></div><div class="line">  	<span class="comment">&lt;!-- /* 拦截所有的Servlet,但是也拦截器了这个路径下的jsp ，如果设置成/MyServlet,那么只拦截这一个Servlet--&gt;</span></div><div class="line">  	<span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="过滤器的生命周期"><a href="#过滤器的生命周期" class="headerlink" title="过滤器的生命周期"></a>过滤器的生命周期</h3><ul>
<li>创建： 无参构造方法，当web容器启动时，会自动创建过滤器</li>
<li>初始化： init()方法  当过滤器创建后会自动调用</li>
<li>销毁: destroy()方法  当应用程序从web容器中卸载时</li>
<li>doFilter():  当调用被拦截器的Servlet或者jsp的时候执行，在此方法中执行doFilter方法相当于执行Servlet里面的Service方法，因为过滤器里面的Request和Response对象和Servlet中的是同一对象，所以在Servlet里面做的任何事都可以在过滤器中实现</li>
</ul>
<h3 id="案例：-实现评论功能"><a href="#案例：-实现评论功能" class="headerlink" title="案例： 实现评论功能"></a>案例： 实现评论功能</h3><ul>
<li><p>如果出现了敏感字符禁止访问</p>
</li>
<li><p>步骤</p>
<ol>
<li>准备一个Comment.jsp页面，页面中有一个文本框和一个提交按钮</li>
<li>如果出现敏感信息禁止提交，并跳转到原页面重新填写评论</li>
</ol>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</div><div class="line">		HttpServletRequest req=(HttpServletRequest)request;</div><div class="line"></div><div class="line">		<span class="comment">//继续执行下面的Filter和Servlet，没有这个方法，那么将不会执行</span></div><div class="line">		chain.doFilter(request, response);</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<h3 id="如果配置多个过滤器拦截器同一个请求地址"><a href="#如果配置多个过滤器拦截器同一个请求地址" class="headerlink" title="如果配置多个过滤器拦截器同一个请求地址"></a>如果配置多个过滤器拦截器同一个请求地址</h3><ul>
<li>此时多个过滤器都会响应，哪个先执行，取决于在web.xml中哪个过滤器先配置，先配置的先执行</li>
</ul>
<h3 id="lt-init-param-gt-设置初始化值"><a href="#lt-init-param-gt-设置初始化值" class="headerlink" title="&lt;init-param&gt;设置初始化值"></a><code>&lt;init-param&gt;</code>设置初始化值</h3><ul>
<li>配置Filter 的初始化值，在web.xml中定义</li>
<li><p>其中的<param-value></param-value></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CommentFiletr<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>cn.filter.CommentFiletr<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></div><div class="line">    	<span class="tag">&lt;<span class="name">param-name</span>&gt;</span>word<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></div><div class="line">    	<span class="tag">&lt;<span class="name">param-value</span>&gt;</span>美女,我操<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>获取其中的值</p>
<ul>
<li>在init中初始化FilterConfig对象</li>
<li>在doFilter中使用FilterConfig对象获取初始化值即可<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CommentFiletr</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> FilterConfig config;  <span class="comment">//定义成员变量FilterConfig对象</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CommentFiletr</span><span class="params">()</span> </span>&#123;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</div><div class="line">		String word=<span class="keyword">this</span>.config.getInitParameter(<span class="string">"word"</span>);   <span class="comment">//获取初始化值</span></div><div class="line"></div><div class="line">		chain.doFilter(request, response);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">//初始化方法</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig fConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</div><div class="line">		<span class="keyword">this</span>.config=fConfig;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="ServletContext（上下文）"><a href="#ServletContext（上下文）" class="headerlink" title="ServletContext（上下文）"></a>ServletContext（上下文）</h2><ul>
<li><p>定义： web服务器启动的时候会为每一个应用创建一个符合ServletContext接口的对象</p>
</li>
<li><p>特点：</p>
<ul>
<li>唯一性： 整个工程中只有一个</li>
<li>持久性： 只要容器不关闭，整个ServletContext对象就会存在于内存中</li>
</ul>
</li>
<li><p>应用场景：</p>
<ol>
<li>负责传递数据（共享数据），任何一个组件往ServletContext对象中保存数据都可以给整个工程的所有Servlet访问</li>
<li>可以在web.xml中获取全局的初始化数据</li>
</ol>
</li>
</ul>
<h3 id="如何配置参数"><a href="#如何配置参数" class="headerlink" title="如何配置参数"></a>如何配置参数</h3><ul>
<li>在web.xml中配置即可</li>
<li>如果想要配置多个，那么可以定义多个<code>&lt;context-param&gt;</code>即可</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></div><div class="line">  	<span class="tag">&lt;<span class="name">param-name</span>&gt;</span>name<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></div><div class="line">  	<span class="tag">&lt;<span class="name">param-value</span>&gt;</span>陈加兵<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li><p>在组件中获取ServletContext(在任何组件中都可以获取)</p>
<ul>
<li><p>在<code>Servlet</code>中获取</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</div><div class="line">	ServletContext context=<span class="keyword">this</span>.getServletContext(); <span class="comment">//获取对象</span></div><div class="line">	String name=context.getInitParameter(<span class="string">"name"</span>);  <span class="comment">//获取name属性的值</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>在<code>Filter</code>中获取</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//初始化方法</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig fConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</div><div class="line">	ServletContext context=fConfig.getServletContext();</div><div class="line">	String name=context.getInitParameter(<span class="string">"name"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="添加和获取数据"><a href="#添加和获取数据" class="headerlink" title="添加和获取数据"></a>添加和获取数据</h3><ul>
<li>getAttribute(key)</li>
<li>setAttribute(key,value)</li>
</ul>
<h2 id="Request-Session-ServletContex，PageContext作用范围"><a href="#Request-Session-ServletContex，PageContext作用范围" class="headerlink" title="Request,Session,ServletContex，PageContext作用范围"></a>Request,Session,ServletContex，PageContext作用范围</h2><ul>
<li><p>ServletContext &gt; Session &gt; Request &gt; PageContext</p>
</li>
<li><p>如何选择传递数据的域：符合需求的域中，选择范围最小的</p>
</li>
</ul>
<h2 id="监听器-Listener"><a href="#监听器-Listener" class="headerlink" title="监听器 Listener"></a>监听器 Listener</h2><h3 id="什么是监听器"><a href="#什么是监听器" class="headerlink" title="什么是监听器"></a>什么是监听器</h3><ul>
<li>Servelt规范中定义的一个特殊组件，用来监听容器内部各组件的事件</li>
<li>组件会有两大类事件<ul>
<li>生命周期相关事件(比如session的创建的和销毁)</li>
<li>绑定数据相关事件</li>
</ul>
</li>
</ul>
<h3 id="如何创建监听器Listener"><a href="#如何创建监听器Listener" class="headerlink" title="如何创建监听器Listener"></a>如何创建监听器Listener</h3><ul>
<li><code>new --- &gt; Listener ---&gt; 类名 ---&gt; next  --  &gt; 选择对应的Listener</code>  具体的选项如下图</li>
</ul>
<p><img src="http://ono60m7tl.bkt.clouddn.com/Listener.png" alt="Listener"></p>
<ul>
<li>选项中有三大域的监听器，ServletContext，Session，Request<ul>
<li>其中Liftcycle 是 生名周期金监听器  其中可以监听三大域的创建和销毁<br>-Change to Attributes 是三大域绑定删除数据监听器</li>
</ul>
</li>
</ul>
<ul>
<li>创建成功之后会在web.xml中自动为我们填上监听器的配置</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">listener</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>cn.listener.MyListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">listener</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="统计在线人数"><a href="#统计在线人数" class="headerlink" title="统计在线人数"></a>统计在线人数</h3><ul>
<li>当开始一个会话将会就表示在线人数+1，因此需要监听Session的生命周期</li>
<li><p>因为我们是统计在线人数，因此我们需要在jsp页面中显示出人数，我们需要将在线人数这个变量存放在ServletContext才能实现共享，这样只有当web容器关闭才会清空其中的在线人数</p>
</li>
<li><p>如果存放在session中，那么当浏览器关闭就会清空session中的数据，或者到了指定的时间也会清空，因此我们不能存放在Session</p>
</li>
<li><p>创建一个监听Session的监听器</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyListener</span> <span class="keyword">implements</span> <span class="title">HttpSessionListener</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="comment">//Session创建时调用的方法</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sessionCreated</span><span class="params">(HttpSessionEvent sessionEvent)</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"会话开始"</span>);</div><div class="line">		<span class="comment">// 取出当前在线人数</span></div><div class="line">		ServletContext context = sessionEvent.getSession().getServletContext(); <span class="comment">// 得到ServletContext</span></div><div class="line">		Integer count=(Integer) context.getAttribute(<span class="string">"count"</span>);   <span class="comment">//获取当前的在线人数</span></div><div class="line">		<span class="comment">// 如果count是第一次，那么此时的count就是null，因为这里还没有设置这个上下文参数</span></div><div class="line">		<span class="keyword">if</span> (count == <span class="keyword">null</span>) &#123;</div><div class="line">			count = <span class="number">1</span>;</div><div class="line">		&#125; <span class="keyword">else</span> &#123;</div><div class="line">			count++;</div><div class="line">		&#125;</div><div class="line">		<span class="comment">// 将在线人数保存回去</span></div><div class="line">		context.setAttribute(<span class="string">"count"</span>,count);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">//Session销毁时调用的方法</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sessionDestroyed</span><span class="params">(HttpSessionEvent event)</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"会话结束"</span>);</div><div class="line">		ServletContext context = event.getSession().getServletContext();</div><div class="line">		Integer count=(Integer) context.getAttribute(<span class="string">"count"</span>);   <span class="comment">//获取当前的在线人数</span></div><div class="line">		count--; <span class="comment">// 直接人数-1</span></div><div class="line">		<span class="comment">// 将此时的人数保存回去</span></div><div class="line">		context.setAttribute(<span class="string">"count"</span>,count);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="缓存数据练习"><a href="#缓存数据练习" class="headerlink" title="缓存数据练习"></a>缓存数据练习</h2><ol>
<li><p>创建一ServletContext生命周期监听器，在ServletContext创建的的方法中读取数据库中的数据并将数据保存在ServletContext中，因为ServletContext在容器创建的时候就会创建，因此在web容器开启的时候就会读取数据库中的信息</p>
</li>
<li><p>我们在Servlet中直接读取ServletContext中的数据即可，不同在请求Servlet的时候从数据库中读取，提高Servlet的响应效率</p>
</li>
</ol>
<h3 id="好处"><a href="#好处" class="headerlink" title="好处"></a>好处</h3><ul>
<li>在我们使用同一种数据的时候，并且数据常用，我们可以在web容器启动的时候就加载出来，不用每次用到该数据就请求一次读取数据库一次，提高了效率</li>
</ul>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CacheListener</span> <span class="keyword">implements</span> <span class="title">ServletContextListener</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="comment">//ServletContext销毁的时候调用</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">contextDestroyed</span><span class="params">(ServletContextEvent event)</span>  </span>&#123;</div><div class="line">    	System.out.println(<span class="string">"销毁"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//ServletContext初始化的时候调用</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">contextInitialized</span><span class="params">(ServletContextEvent event)</span>  </span>&#123;</div><div class="line">    	ServletContext context=event.getServletContext();  <span class="comment">//获取ServletContext对象</span></div><div class="line">    	EmpDao empDao=<span class="keyword">new</span> EmpDao();  <span class="comment">//创建Dao对象，用于读取数据库中的信息</span></div><div class="line">    	List&lt;Emp&gt; emps=empDao.findAll();  <span class="comment">//获取所有的数据</span></div><div class="line">    	context.setAttribute(<span class="string">"emps"</span>, emps);  <span class="comment">//添加到ServletContext中</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="各组件执行顺序"><a href="#各组件执行顺序" class="headerlink" title="各组件执行顺序"></a>各组件执行顺序</h2><ul>
<li><p>MyServlet、MyListener(监听ServletContext),MyFilter</p>
</li>
<li><p>web容器启动 – &gt; MyListener(监听) — &gt; MyFilter实例化 – &gt; 请求 —&gt; MyFilter(doFilter) —&gt; 执行MyServlet</p>
</li>
</ul>
<h2 id="Servlet线程安全问题"><a href="#Servlet线程安全问题" class="headerlink" title="Servlet线程安全问题"></a>Servlet线程安全问题</h2><h3 id="为什么"><a href="#为什么" class="headerlink" title="为什么"></a>为什么</h3><ul>
<li>为什么会有线程安全问题：因为每一个请求 服务器都会开启一条新的线程来执行，这样的话如果请求量比较大出现高并发访问就会出现多条线程同时执行，如果多一条线程执行的过程中，有需要去修改同一份数据，则有可能出现线程安全问题，即一条数据没有处理完，另外一条数据把数据取走</li>
</ul>
<h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><ul>
<li>通过同步代码块，将可能会出现线程安全的代码包裹起来，这样就可以解决线程安全问题</li>
</ul>
<h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><ul>
<li>假设我们的线程不安全的Servlet如下</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadSafeServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">int</span> count = <span class="number">0</span>;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></div><div class="line">			HttpServletResponse response) <span class="keyword">throws</span> ServletException, IOException &#123;</div><div class="line"></div><div class="line">			System.out.println(Thread.currentThread().getName() + <span class="string">"：开始执行"</span> + count);</div><div class="line">			<span class="keyword">try</span> &#123;</div><div class="line">				Thread.sleep(<span class="number">5000</span>);   <span class="comment">//线程睡眠5s</span></div><div class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</div><div class="line">				e.printStackTrace();</div><div class="line">			&#125;</div><div class="line">			count++;</div><div class="line"></div><div class="line">			System.out.println(Thread.currentThread().getName() + <span class="string">"：执行完毕"</span> + count);</div><div class="line"></div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>我们在浏览器多次请求这个servlet，那么我们可以看到输出的每一个开始执行的count的值都是0，但是我们后面都count++了，从此可以看出线程不安全，那么我们添加一个同步代码块来确保线程安全</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadSafeServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">int</span> count = <span class="number">0</span>;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></div><div class="line">			HttpServletResponse response) <span class="keyword">throws</span> ServletException, IOException &#123;</div><div class="line">		<span class="comment">//同步代码块</span></div><div class="line">		<span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;</div><div class="line">			System.out.println(Thread.currentThread().getName() + <span class="string">"：开始执行"</span> + count);</div><div class="line">			<span class="keyword">try</span> &#123;</div><div class="line">				Thread.sleep(<span class="number">5000</span>);   <span class="comment">//线程睡眠5s</span></div><div class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</div><div class="line">				e.printStackTrace();</div><div class="line">			&#125;</div><div class="line">			count++;</div><div class="line"></div><div class="line">			System.out.println(Thread.currentThread().getName() + <span class="string">"：执行完毕"</span> + count);</div><div class="line">		&#125;</div><div class="line"></div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="JSP扩展"><a href="#JSP扩展" class="headerlink" title="JSP扩展"></a>JSP扩展</h2><h3 id="什么是JSP"><a href="#什么是JSP" class="headerlink" title="什么是JSP"></a>什么是JSP</h3><ul>
<li>java Server page  java服务器页面</li>
<li>jsp文件部署到web容器时会自动转成Servlet组件，添加到容器中</li>
</ul>
<h3 id="如何写jsp"><a href="#如何写jsp" class="headerlink" title="如何写jsp"></a>如何写jsp</h3><ul>
<li><p>java代码的写法</p>
<ul>
<li><code>&lt;% %&gt;</code> 写java代码，任意java代码都行，转化成Servlet的时候直接是写在service方法体中</li>
<li><code>&lt;%! %&gt;</code> 声明变量或者方法，转换成Servlet的时候直接作为其成员变量或者成员方法</li>
<li><code>&lt;%= %&gt;</code>   java表达式，返回的是一个值</li>
</ul>
</li>
<li><p>指令</p>
<ul>
<li>高速容器，将jsp转成Servlet的时候所做的一些额外操作</li>
<li><p><code>&lt;%@ page&gt;</code> ： import导包  contentType  pageEncoding</p>
<ul>
<li>session的默认值为true，如果值为false，则在java代码中不能使用session隐式对象</li>
<li>errorPage :指定jsp里面出现异常时显示的页面</li>
<li>isErrorPage : 设置当前页面为错误异常页面，默认为false，设置为true之后页面中才可以使用exception获取异常信息</li>
</ul>
<p>tablib ： 引入标签库</p>
</li>
</ul>
</li>
</ul>
<h2 id="JSP中隐式对象"><a href="#JSP中隐式对象" class="headerlink" title="JSP中隐式对象"></a>JSP中隐式对象</h2><h3 id="什么是隐式对象"><a href="#什么是隐式对象" class="headerlink" title="什么是隐式对象"></a>什么是隐式对象</h3><ul>
<li>在JSP中可以不用创建，可以直接使用的对象</li>
</ul>
<h3 id="为什么可以直接使用"><a href="#为什么可以直接使用" class="headerlink" title="为什么可以直接使用"></a>为什么可以直接使用</h3><ul>
<li>因为将JSP转成Servlet类的时候会自动创建的对象</li>
</ul>
<h3 id="有哪些-（九大隐式对象-面试中常考"><a href="#有哪些-（九大隐式对象-面试中常考" class="headerlink" title="有哪些 （九大隐式对象) 面试中常考"></a>有哪些 （九大隐式对象) 面试中常考</h3><ol>
<li><p><code>application</code> ： 类型为ServletContext，该实例表示jsp所属的web应用本身，可以用于多个组件间共享或传递数据，常用方法有setAttribute(),getAttribute(),removeAttribute()和getInitParameter()</p>
</li>
<li><p><code>session</code> : 类型为HttpSession，用于在同一个会话中共享数据，常用方法有setAttribute(),getAttribute(),removeAttribute()</p>
</li>
<li><p><code>request</code> ：类型HttpServeltRequest，用于在同一个请求中共享数据，常用方法有setAttribute(),getAttribute(),removeAttribute()</p>
</li>
</ol>
<ol>
<li><p><code>pageContext</code> : 用于在同一个jsp中共享数据，常用方法有setAttribute(),getAttribute(),removeAttribute()</p>
 <figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;%</div><div class="line">pageContext.setAttribute("name", "陈加兵");</div><div class="line">%&gt;</div><div class="line"></div><div class="line">&lt;h1&gt;&lt;%=pageContext.getAttribute("name") %&gt;&lt;/h1&gt;</div></pre></td></tr></table></figure>
</li>
<li><p><code>response</code> : 类型HttpServletResponse,用于处理响应数据和重定向，因为有out，更多使用的是out</p>
</li>
<li><p><code>out</code> ： 类型为JSPWriter，用于输出数据</p>
</li>
<li><p><code>page</code> ： page就是jsp本身，因为jsp最终会转成Servlet，page相当于this</p>
</li>
<li><p><code>exception</code> : 异常对象，用于获取异常信息，只有当page指令里面添加了<code>isErrorPage=true</code>的时候才能使用</p>
</li>
<li><p><code>config</code> ： 类型为ServletConfig，用于获取配置文件中初始化参数</p>
</li>
</ol>
<h2 id="JSP的注释"><a href="#JSP的注释" class="headerlink" title="JSP的注释"></a>JSP的注释</h2><ol>
<li><p><code>&lt;!--注释内容--&gt;</code>  ： 代码会被注释但是代码会被执行</p>
</li>
<li><p><code>&lt;%-- 注释内容 --%&gt;</code> ： 代码会被注释，不会执行</p>
</li>
</ol>
<h2 id="JSP如何执行的"><a href="#JSP如何执行的" class="headerlink" title="JSP如何执行的"></a>JSP如何执行的</h2><ol>
<li><p>将JSP转成Servlet</p>
</li>
<li><p>调用Servlet</p>
</li>
</ol>
<h2 id="JSP标签和EL表达式"><a href="#JSP标签和EL表达式" class="headerlink" title="JSP标签和EL表达式"></a>JSP标签和EL表达式</h2><h3 id="什么是jsp标签"><a href="#什么是jsp标签" class="headerlink" title="什么是jsp标签"></a>什么是jsp标签</h3><ul>
<li>是sun公司提供的一套类似于html标签的内容，用于替换jsp中出现的java代码</li>
<li>因为在jsp中写java代码不利于维护，代码的可读性也很差，以后工作时显示相关的内容很可能交给前端工程师或者美工，所以在jsp中尽量不要出现java代码，所以才产生了jsp标签</li>
</ul>
<h3 id="什么是EL表达式"><a href="#什么是EL表达式" class="headerlink" title="什么是EL表达式"></a>什么是EL表达式</h3><ul>
<li>一套简单的运算规则，用于从域对象中取值，然后给jsp中标签的属性赋值</li>
</ul>
<h3 id="EL表达式的使用"><a href="#EL表达式的使用" class="headerlink" title="EL表达式的使用(${})"></a>EL表达式的使用(<code>${}</code>)</h3><ol>
<li>访问Bean对象中的属性(属性必须有get方法)<ul>
<li><code>${对象名.属性名}</code>,假设一个对象user，访问其中的name属性，我们可以使用 <code>${user.name}</code>，这个相当于调用了<code>user.getName()</code>方法</li>
</ul>
</li>
</ol>
<h3 id="EL表达式执行过程"><a href="#EL表达式执行过程" class="headerlink" title="EL表达式执行过程"></a>EL表达式执行过程</h3><ol>
<li><p><code>${user.name}</code>  会先从pageContext域中查找如果有则用，如果没有会到request域中查找，如果没有再到session域中查找，如果没有再到ServletContext中查找</p>
<ul>
<li><strong>如果找不到直接输出空字符串<code>&quot;&quot;</code>,如果没有获取到对象调用对象的方法不会报空指针异常，仍然输出空字符串</strong></li>
</ul>
</li>
<li><p>指定域获取  <code>${requestScope.user.name}</code> 相当于 <code>request.getAttribute(&quot;user&quot;).getName()</code></p>
<ul>
<li>pageScope</li>
<li>requestScope</li>
<li>sessionScope</li>
<li>applicationScope</li>
</ul>
</li>
<li><p><code>${user[&#39;name&#39;]}</code>  个人不推荐使用</p>
</li>
</ol>
<h3 id="使用EL表达式获取请求参数-使用不多，一般都是在Servlet获取"><a href="#使用EL表达式获取请求参数-使用不多，一般都是在Servlet获取" class="headerlink" title="使用EL表达式获取请求参数(使用不多，一般都是在Servlet获取)"></a>使用EL表达式获取请求参数(使用不多，一般都是在Servlet获取)</h3><ul>
<li><p>直接使用<code>${param.请求参数名}</code>  获取指定的请求参数</p>
<ul>
<li><code>${param.name}</code> 相当于<code>request.getParameter(&quot;name&quot;)</code></li>
</ul>
</li>
<li><p><code>${paramValues.参数名[index]}</code>  获取多个同名参数</p>
<ul>
<li>相当于<code>request.getParameterValues(&quot;参数名&quot;)[index]</code></li>
</ul>
</li>
</ul>
<h3 id="EL表达式的简单运算"><a href="#EL表达式的简单运算" class="headerlink" title="EL表达式的简单运算"></a>EL表达式的简单运算</h3><ul>
<li>运算结果可以直接给标签的属性赋值</li>
</ul>
<h4 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h4><ul>
<li>可以直接使用加减乘除 ${1+2},${5/2},${5*3}</li>
<li><strong>注意</strong>： <code>+</code>只能做求和运算，不能字符串拼接</li>
</ul>
<h4 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h4><ul>
<li><code>${true and false}=false</code>,<code>${true and true}=true</code>,<code>${true or false}=true</code></li>
</ul>
<h4 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h4><ul>
<li>使用 <code>==</code>, <code>!=</code> , <code>&gt;=</code>,<code>&lt;</code>, <code>&gt;</code> , <code>&lt;=</code>  , <code>&amp;&amp;</code> , <code>||</code>  如： <code>${age&lt;30}</code></li>
<li><p>可以直接在EL表达式比较大小，返回的也是false和true，可以用来判断，如下：<br><code>${1&lt;2}=false</code> ,<code>${(10*10)&gt;200}=true</code>,<code>${age&gt;11&amp;&amp;age&lt;20}</code></p>
</li>
<li><p><code>empty</code> 判断是否为空(空字符串或者值为null)</p>
<ul>
<li>判断字符串为null或者为空字符串</li>
<li>判断数组，值为null和不为null但是数组里面没有数据都会返回true</li>
<li>判断对象为null</li>
<li><code>${empty str}</code>  判断字符串是否为空</li>
<li><code>${empty user}</code>   判断对象user是否为空</li>
</ul>
</li>
</ul>
<h3 id="jstl"><a href="#jstl" class="headerlink" title="jstl"></a>jstl</h3><ul>
<li><p>java standard tab lib （java标准标签库）</p>
</li>
<li><p>jstl是Apache开发的一套jsp标签</p>
</li>
</ul>
<h4 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h4><ol>
<li><p>导入jstljar包,使用maven，在pom.xml中添加依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>通过tablib指定引入标签库</p>
<ul>
<li><code>&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;</code> ， uri：是标签库的命名空间，代表标签库的唯一标识，prefix ：别名或前缀</li>
</ul>
</li>
<li><p>几个核心标签</p>
<ul>
<li><p>if标签， <code>&lt;c:if test=&quot;&quot;&gt;</code>  test中填写的是判断条件，使用EL表达式</p>
<ul>
<li>var ： test中的判断结果，如果test中的判断为真，那么此时var的变量值为true</li>
<li>scope ： 将var中的变量存放到指定的域中，便于直接访问<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;%</div><div class="line">	request.setAttribute("age", 22);</div><div class="line">%&gt;</div><div class="line">&lt;c:if test="$&#123;requestScope.age&gt;20 &#125;"&gt;</div><div class="line">	&lt;h1&gt;&lt;c:out value="年龄大于20"&gt;&lt;/c:out&gt;&lt;/h1&gt;</div><div class="line">&lt;/c:if&gt;</div><div class="line"></div><div class="line">&lt;c:if test="$&#123;requestScope.age&gt;10 &#125;" var="result" scope="session"&gt;</div><div class="line">	&lt;h2&gt;此时的判断结果为 : $&#123;sessionScope.result &#125;&lt;/h2&gt;</div><div class="line">&lt;/c:if&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>choose标签 （相当于switch case）</p>
<ul>
<li>需要和 when，otherwise结合使用<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;%</div><div class="line">User user=new User();</div><div class="line">user.setUsername("libai");</div><div class="line">user.setPassword("admin");</div><div class="line">request.setAttribute("user", user);</div><div class="line">%&gt;</div><div class="line"></div><div class="line">&lt;c:choose&gt;</div><div class="line">	&lt;c:when test="$&#123;user.username=='libai' &amp;&amp; user.password=='admin' &#125;"&gt;</div><div class="line">		&lt;h1&gt;登录成功&lt;/h1&gt;</div><div class="line">	&lt;/c:when&gt;</div><div class="line"></div><div class="line">	&lt;!-- 其他的任何类型的判断，只要不是when中的，都在这里执行，相当于else --&gt;</div><div class="line">	&lt;c:otherwise&gt;</div><div class="line">		&lt;h1&gt;登录失败&lt;/h1&gt;</div><div class="line">	&lt;/c:otherwise&gt;</div><div class="line">&lt;/c:choose&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>forEach标签  相当于java中的forEach，由于遍历集合或者数组</p>
<ul>
<li>items : 需要遍历的集合或者数组</li>
<li>var ：遍历的对象的变量名称，遍历时会把当前遍历的对象绑定在PageContext域中，需要获取遍历对象的内容时直接使用EL表达式从域中获取出来</li>
<li>begin ： 开始的索引</li>
<li>end ： 结束的索引</li>
<li>step ： 指定步长，默认的步长为1</li>
<li><p>varStatus : 遍历的状态，如果需要得到遍历对象的下标调用<code>index</code>，如果想要得到遍历对象是集合中的第几个调用<code>count</code></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">&lt;table width="500" border="1"&gt;</div><div class="line">	&lt;tr&gt;</div><div class="line">		&lt;th&gt;用户名&lt;/th&gt;</div><div class="line">		&lt;th&gt;密码&lt;/th&gt;</div><div class="line">		&lt;th&gt;性别&lt;/th&gt;</div><div class="line">		&lt;th&gt;级别&lt;/th&gt;</div><div class="line">		&lt;th&gt;下标&lt;/th&gt;</div><div class="line">		&lt;th&gt;第几个&lt;/th&gt;</div><div class="line">	&lt;/tr&gt;</div><div class="line">	&lt;c:forEach var="user" items="$&#123;requestScope.users &#125;" begin="0"  end="19"  step="1" varStatus="s"&gt;</div><div class="line">		&lt;c:if test="$&#123;s.index%2==0 &#125;"&gt; &lt;tr id="row1"&gt; &lt;/c:if&gt;</div><div class="line">		&lt;c:if test="$&#123;s.index%2!=0 &#125;"&gt; &lt;tr id="row2"&gt; &lt;/c:if&gt;</div><div class="line">			&lt;td&gt;$&#123;user.username &#125;&lt;/td&gt;</div><div class="line">			&lt;td&gt;$&#123;user.password &#125;&lt;/td&gt;</div><div class="line">			&lt;td&gt;$&#123;user.gender &#125;&lt;/td&gt;</div><div class="line">			&lt;td&gt;$&#123;user.level &#125;&lt;/td&gt;</div><div class="line">			&lt;!-- 下标 --&gt;</div><div class="line">			&lt;td&gt;$&#123;s.index &#125;&lt;/td&gt;</div><div class="line">			&lt;!-- 第几个 --&gt;</div><div class="line">			&lt;td&gt;$&#123;s.count &#125;&lt;/td&gt;</div><div class="line">		&lt;/tr&gt;</div><div class="line">	&lt;/c:forEach&gt;</div><div class="line">&lt;/table&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="自定义标签"><a href="#自定义标签" class="headerlink" title="自定义标签"></a>自定义标签</h2><ul>
<li>简单标签技术</li>
<li>复杂标签技术：支持标签内部写java代码</li>
</ul>
<h3 id="简单标签技术-继承SimpleTagSupport"><a href="#简单标签技术-继承SimpleTagSupport" class="headerlink" title="简单标签技术(继承SimpleTagSupport)"></a>简单标签技术(继承SimpleTagSupport)</h3><ul>
<li><p>创建自定义标签的类(继承SimpleTagSupport)</p>
<ul>
<li>get，set方法必须<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.io.IOException;</div><div class="line"><span class="keyword">import</span> java.io.PrintWriter;</div><div class="line"></div><div class="line"><span class="keyword">import</span> javax.servlet.jsp.JspException;</div><div class="line"><span class="keyword">import</span> javax.servlet.jsp.JspWriter;</div><div class="line"><span class="keyword">import</span> javax.servlet.jsp.PageContext;</div><div class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.SimpleTagSupport;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloTag</span> <span class="keyword">extends</span> <span class="title">SimpleTagSupport</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">int</span> count;   <span class="comment">//标签的属性count</span></div><div class="line">	<span class="keyword">private</span> String msg;  <span class="comment">//属性msg</span></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doTag</span><span class="params">()</span> <span class="keyword">throws</span> JspException, IOException </span>&#123;</div><div class="line">		PageContext context=(PageContext) <span class="keyword">this</span>.getJspContext();  <span class="comment">//获取PageContext隐式对象</span></div><div class="line">		JspWriter out=context.getOut();   <span class="comment">//获取JSPWriter对象，用于在JSp页面中输出内容</span></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;count;i++)&#123;</div><div class="line">			out.println(msg+<span class="string">"&lt;br/&gt;"</span>);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> count;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCount</span><span class="params">(<span class="keyword">int</span> count)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.count = count;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getMsg</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> msg;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMsg</span><span class="params">(String msg)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.msg = msg;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>定义hello.tld文件(WEB-INF下)</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</div><div class="line"><span class="comment">&lt;!-- 约束不用改写，直接copy --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">taglib</span> <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/javaee"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></div><div class="line">	<span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-jsptaglibrary_2_1.xsd"</span></div><div class="line">	<span class="attr">version</span>=<span class="string">"2.1"</span>&gt;</div><div class="line"></div><div class="line">	<span class="comment">&lt;!-- 标签库的版本号 --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">tlib-version</span>&gt;</span>1.1<span class="tag">&lt;/<span class="name">tlib-version</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 推荐别名 --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">short-name</span>&gt;</span>d<span class="tag">&lt;/<span class="name">short-name</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 随便起，只要保证唯一性即可，这个是唯一标识 --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">uri</span>&gt;</span>http://www.tedu.cn/hello<span class="tag">&lt;/<span class="name">uri</span>&gt;</span></div><div class="line"></div><div class="line">	<span class="tag">&lt;<span class="name">tag</span>&gt;</span></div><div class="line">		<span class="comment">&lt;!-- 标签名 --&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line"></div><div class="line">		<span class="comment">&lt;!-- 标签的类，自定义的类 --&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">tag-class</span>&gt;</span>cn.servlet.HelloTag<span class="tag">&lt;/<span class="name">tag-class</span>&gt;</span></div><div class="line"></div><div class="line">		<span class="comment">&lt;!-- 设置成没有标签体 --&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">body-content</span>&gt;</span>empty<span class="tag">&lt;/<span class="name">body-content</span>&gt;</span></div><div class="line"></div><div class="line">		<span class="comment">&lt;!-- 定义标签的属性 --&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">attribute</span>&gt;</span></div><div class="line">			<span class="comment">&lt;!-- 属性的名字 --&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">name</span>&gt;</span>msg<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">			<span class="comment">&lt;!-- 是否设置成必须的 --&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">required</span>&gt;</span>true<span class="tag">&lt;/<span class="name">required</span>&gt;</span></div><div class="line">			<span class="comment">&lt;!-- 是否运行EL表达式赋值 --&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">rtexprvalue</span>&gt;</span>true<span class="tag">&lt;/<span class="name">rtexprvalue</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">attribute</span>&gt;</span></div><div class="line"></div><div class="line">		<span class="tag">&lt;<span class="name">attribute</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">name</span>&gt;</span>count<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">required</span>&gt;</span>true<span class="tag">&lt;/<span class="name">required</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">rtexprvalue</span>&gt;</span>true<span class="tag">&lt;/<span class="name">rtexprvalue</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">attribute</span>&gt;</span></div><div class="line"></div><div class="line">	<span class="tag">&lt;/<span class="name">tag</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">taglib</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>在jsp中引入这个标签库</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;!-- 引入自定义的标签库 --&gt;</div><div class="line">&lt;%@ taglib prefix=<span class="string">"d"</span> uri=<span class="string">"http://www.tedu.cn/hello"</span>%&gt;</div><div class="line"></div><div class="line">&lt;d:hello count=<span class="string">"20"</span> msg=<span class="string">"陈加兵"</span>/&gt;</div></pre></td></tr></table></figure>
</li>
<li><p><code>&lt;body-content&gt;</code> 其中可以写以下三种内容</p>
<ul>
<li>JSP ： 有标签体而且标签体内可以写java代码(只有复杂标签技术才支持)</li>
<li>empty ：没有标签体</li>
<li>scriptless ： 有标签体，但是标签体内不能写java代码</li>
</ul>
</li>
</ul>
<h2 id="笔者有话说"><a href="#笔者有话说" class="headerlink" title="笔者有话说"></a>笔者有话说</h2><ul>
<li>最近建了一个微信交流群，提供给大家一个交流的平台，扫描下方笔者的微信二维码，备注【交流】，我会把大家拉进群</li>
</ul>
<p><img src="https://gitee.com/chenjiabing666/Blog-file/raw/master/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20200310211704.jpg" alt=""></p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/java学习/">java学习</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/java基础/">java基础</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://chenjiabing666.github.io/2018/04/24/Servlet和JSP总结/" data-title="Servlet和JSP总结 | 爱撒谎的男孩" data-tsina="5651317821" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2018/04/24/Spring入门/" title="Spring入门">
  <strong>上一篇：</strong><br/>
  <span>
  Spring入门</span>
</a>
</div>


<div class="next">
<a href="/2018/04/24/Hibernate关联查询/"  title="Hibernate关联查询">
 <strong>下一篇：</strong><br/> 
 <span>Hibernate关联查询
</span>
</a>
</div>

</nav>

	

<section id="comments" class="comment">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Servlet和JSP总结"><span class="toc-number">1.</span> <span class="toc-text">Servlet和JSP总结</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#B-S和C-S"><span class="toc-number">1.1.</span> <span class="toc-text">B/S和C/S</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是服务器"><span class="toc-number">1.2.</span> <span class="toc-text">什么是服务器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是web服务器"><span class="toc-number">1.3.</span> <span class="toc-text">什么是web服务器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#通过scoket实现web服务器"><span class="toc-number">1.4.</span> <span class="toc-text">通过scoket实现web服务器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#市面上常见的web服务器"><span class="toc-number">1.5.</span> <span class="toc-text">市面上常见的web服务器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#静态资源和动态资源"><span class="toc-number">1.6.</span> <span class="toc-text">静态资源和动态资源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Servlet-介绍"><span class="toc-number">1.7.</span> <span class="toc-text">Servlet 介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#如何创建Servlet"><span class="toc-number">1.8.</span> <span class="toc-text">如何创建Servlet</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#创建Servlet第一个程序"><span class="toc-number">1.8.1.</span> <span class="toc-text">创建Servlet第一个程序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#错误码"><span class="toc-number">1.9.</span> <span class="toc-text">错误码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Servlet响应的过程"><span class="toc-number">1.10.</span> <span class="toc-text">Servlet响应的过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#地址栏中出现中文-乱码解决方案"><span class="toc-number">1.11.</span> <span class="toc-text">地址栏中出现中文 乱码解决方案</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP协议-了解"><span class="toc-number">1.12.</span> <span class="toc-text">HTTP协议(了解)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是HTTP协议"><span class="toc-number">1.12.1.</span> <span class="toc-text">什么是HTTP协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#http请求包数据"><span class="toc-number">1.12.2.</span> <span class="toc-text">http请求包数据:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#响应数据包"><span class="toc-number">1.12.3.</span> <span class="toc-text">响应数据包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#请求方式-GET和POST"><span class="toc-number">1.12.4.</span> <span class="toc-text">请求方式:GET和POST</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Servlet中service-和doGet-doPost的关系"><span class="toc-number">1.12.5.</span> <span class="toc-text">Servlet中service 和doGet/doPost的关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#获取请求头里面的数据"><span class="toc-number">1.12.6.</span> <span class="toc-text">获取请求头里面的数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#设置响应头数据"><span class="toc-number">1.12.7.</span> <span class="toc-text">设置响应头数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#乱码"><span class="toc-number">1.12.8.</span> <span class="toc-text">乱码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#响应数据有中文"><span class="toc-number">1.12.8.1.</span> <span class="toc-text">响应数据有中文</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#请求参数有中文"><span class="toc-number">1.12.8.2.</span> <span class="toc-text">请求参数有中文</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#定时刷新及定时跳转"><span class="toc-number">1.13.</span> <span class="toc-text">定时刷新及定时跳转</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#如何隐藏关闭的工程"><span class="toc-number">1.14.</span> <span class="toc-text">如何隐藏关闭的工程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#如何分组显示项目"><span class="toc-number">1.15.</span> <span class="toc-text">如何分组显示项目</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#重定向"><span class="toc-number">1.15.1.</span> <span class="toc-text">重定向</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#路径的匹配"><span class="toc-number">1.16.</span> <span class="toc-text">路径的匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#两种匹配方式"><span class="toc-number">1.16.1.</span> <span class="toc-text">两种匹配方式:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#浏览器输入一个地址查找资源的过程是怎样的"><span class="toc-number">1.16.2.</span> <span class="toc-text">浏览器输入一个地址查找资源的过程是怎样的?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#复制工程时注意事项"><span class="toc-number">1.16.3.</span> <span class="toc-text">复制工程时注意事项</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Servlet的生命周期"><span class="toc-number">1.17.</span> <span class="toc-text">Servlet的生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#执行步骤"><span class="toc-number">1.17.1.</span> <span class="toc-text">执行步骤:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP"><span class="toc-number">1.18.</span> <span class="toc-text">JSP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Html-包括css-JavaScript"><span class="toc-number">1.18.1.</span> <span class="toc-text">Html(包括css,JavaScript)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java代码"><span class="toc-number">1.18.2.</span> <span class="toc-text">Java代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#隐含对象"><span class="toc-number">1.18.3.</span> <span class="toc-text">隐含对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#指令"><span class="toc-number">1.18.4.</span> <span class="toc-text">指令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#jsp是如何执行的"><span class="toc-number">1.19.</span> <span class="toc-text">jsp是如何执行的</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#include-指令"><span class="toc-number">1.20.</span> <span class="toc-text">include 指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#路径相关问题"><span class="toc-number">1.21.</span> <span class="toc-text">路径相关问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#相对路径"><span class="toc-number">1.21.1.</span> <span class="toc-text">相对路径</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#绝对路径"><span class="toc-number">1.21.2.</span> <span class="toc-text">绝对路径</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#总结"><span class="toc-number">1.21.3.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#状态管理（数据管理）"><span class="toc-number">1.22.</span> <span class="toc-text">状态管理（数据管理）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是状态管理"><span class="toc-number">1.22.1.</span> <span class="toc-text">什么是状态管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cookie"><span class="toc-number">1.22.2.</span> <span class="toc-text">Cookie</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#使用cookie记录客户端访问次数"><span class="toc-number">1.22.2.1.</span> <span class="toc-text">使用cookie记录客户端访问次数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用cookie保存登录的用户名和信息"><span class="toc-number">1.22.3.</span> <span class="toc-text">使用cookie保存登录的用户名和信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Session"><span class="toc-number">1.22.4.</span> <span class="toc-text">Session</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#如何创建Session对象"><span class="toc-number">1.22.4.1.</span> <span class="toc-text">如何创建Session对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#添加删除数据"><span class="toc-number">1.22.4.2.</span> <span class="toc-text">添加删除数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#session超时"><span class="toc-number">1.22.4.3.</span> <span class="toc-text">session超时</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#删除session"><span class="toc-number">1.22.4.4.</span> <span class="toc-text">删除session</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#删除session中的数据"><span class="toc-number">1.22.4.5.</span> <span class="toc-text">删除session中的数据</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实现自动登录（Session"><span class="toc-number">1.22.5.</span> <span class="toc-text">实现自动登录（Session)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Base64加密"><span class="toc-number">1.23.</span> <span class="toc-text">Base64加密</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#比较cookie和Session"><span class="toc-number">1.24.</span> <span class="toc-text">比较cookie和Session</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#自动登录加强版"><span class="toc-number">1.25.</span> <span class="toc-text">自动登录加强版</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#过滤器"><span class="toc-number">1.26.</span> <span class="toc-text">过滤器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是过滤器"><span class="toc-number">1.26.1.</span> <span class="toc-text">什么是过滤器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#如何创建一个过滤器"><span class="toc-number">1.26.2.</span> <span class="toc-text">如何创建一个过滤器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#过滤器的生命周期"><span class="toc-number">1.26.3.</span> <span class="toc-text">过滤器的生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#案例：-实现评论功能"><span class="toc-number">1.26.4.</span> <span class="toc-text">案例： 实现评论功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#如果配置多个过滤器拦截器同一个请求地址"><span class="toc-number">1.26.5.</span> <span class="toc-text">如果配置多个过滤器拦截器同一个请求地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lt-init-param-gt-设置初始化值"><span class="toc-number">1.26.6.</span> <span class="toc-text"><init-param>设置初始化值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ServletContext（上下文）"><span class="toc-number">1.27.</span> <span class="toc-text">ServletContext（上下文）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#如何配置参数"><span class="toc-number">1.27.1.</span> <span class="toc-text">如何配置参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加和获取数据"><span class="toc-number">1.27.2.</span> <span class="toc-text">添加和获取数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Request-Session-ServletContex，PageContext作用范围"><span class="toc-number">1.28.</span> <span class="toc-text">Request,Session,ServletContex，PageContext作用范围</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#监听器-Listener"><span class="toc-number">1.29.</span> <span class="toc-text">监听器 Listener</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是监听器"><span class="toc-number">1.29.1.</span> <span class="toc-text">什么是监听器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#如何创建监听器Listener"><span class="toc-number">1.29.2.</span> <span class="toc-text">如何创建监听器Listener</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#统计在线人数"><span class="toc-number">1.29.3.</span> <span class="toc-text">统计在线人数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#缓存数据练习"><span class="toc-number">1.30.</span> <span class="toc-text">缓存数据练习</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#好处"><span class="toc-number">1.30.1.</span> <span class="toc-text">好处</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码"><span class="toc-number">1.30.2.</span> <span class="toc-text">代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#各组件执行顺序"><span class="toc-number">1.31.</span> <span class="toc-text">各组件执行顺序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Servlet线程安全问题"><span class="toc-number">1.32.</span> <span class="toc-text">Servlet线程安全问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#为什么"><span class="toc-number">1.32.1.</span> <span class="toc-text">为什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#解决方案"><span class="toc-number">1.32.2.</span> <span class="toc-text">解决方案</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#实例"><span class="toc-number">1.32.2.1.</span> <span class="toc-text">实例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP扩展"><span class="toc-number">1.33.</span> <span class="toc-text">JSP扩展</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是JSP"><span class="toc-number">1.33.1.</span> <span class="toc-text">什么是JSP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#如何写jsp"><span class="toc-number">1.33.2.</span> <span class="toc-text">如何写jsp</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP中隐式对象"><span class="toc-number">1.34.</span> <span class="toc-text">JSP中隐式对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是隐式对象"><span class="toc-number">1.34.1.</span> <span class="toc-text">什么是隐式对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#为什么可以直接使用"><span class="toc-number">1.34.2.</span> <span class="toc-text">为什么可以直接使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#有哪些-（九大隐式对象-面试中常考"><span class="toc-number">1.34.3.</span> <span class="toc-text">有哪些 （九大隐式对象) 面试中常考</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP的注释"><span class="toc-number">1.35.</span> <span class="toc-text">JSP的注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP如何执行的"><span class="toc-number">1.36.</span> <span class="toc-text">JSP如何执行的</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP标签和EL表达式"><span class="toc-number">1.37.</span> <span class="toc-text">JSP标签和EL表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是jsp标签"><span class="toc-number">1.37.1.</span> <span class="toc-text">什么是jsp标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是EL表达式"><span class="toc-number">1.37.2.</span> <span class="toc-text">什么是EL表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EL表达式的使用"><span class="toc-number">1.37.3.</span> <span class="toc-text">EL表达式的使用(${})</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EL表达式执行过程"><span class="toc-number">1.37.4.</span> <span class="toc-text">EL表达式执行过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用EL表达式获取请求参数-使用不多，一般都是在Servlet获取"><span class="toc-number">1.37.5.</span> <span class="toc-text">使用EL表达式获取请求参数(使用不多，一般都是在Servlet获取)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EL表达式的简单运算"><span class="toc-number">1.37.6.</span> <span class="toc-text">EL表达式的简单运算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#算术运算符"><span class="toc-number">1.37.6.1.</span> <span class="toc-text">算术运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#逻辑运算符"><span class="toc-number">1.37.6.2.</span> <span class="toc-text">逻辑运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#关系运算符"><span class="toc-number">1.37.6.3.</span> <span class="toc-text">关系运算符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jstl"><span class="toc-number">1.37.7.</span> <span class="toc-text">jstl</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#如何使用"><span class="toc-number">1.37.7.1.</span> <span class="toc-text">如何使用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#自定义标签"><span class="toc-number">1.38.</span> <span class="toc-text">自定义标签</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#简单标签技术-继承SimpleTagSupport"><span class="toc-number">1.38.1.</span> <span class="toc-text">简单标签技术(继承SimpleTagSupport)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#笔者有话说"><span class="toc-number">1.39.</span> <span class="toc-text">笔者有话说</span></a></li></ol></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/Elasticsearch/" title="Elasticsearch">Elasticsearch<sup>9</sup></a></li>
		  
		
		  
			<li><a href="/categories/Hibernate/" title="Hibernate">Hibernate<sup>12</sup></a></li>
		  
		
		  
			<li><a href="/categories/Java-Web/" title="Java-Web">Java-Web<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Linux/" title="Linux">Linux<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/MyBatis/" title="MyBatis">MyBatis<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/Nginx/" title="Nginx">Nginx<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Redis/" title="Redis">Redis<sup>8</sup></a></li>
		  
		
		  
			<li><a href="/categories/Spring/" title="Spring">Spring<sup>39</sup></a></li>
		  
		
		  
			<li><a href="/categories/SpringBoot/" title="SpringBoot">SpringBoot<sup>16</sup></a></li>
		  
		
		  
			<li><a href="/categories/Struts2/" title="Struts2">Struts2<sup>12</sup></a></li>
		  
		
		  
			<li><a href="/categories/docker/" title="docker">docker<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/java学习/" title="java学习">java学习<sup>35</sup></a></li>
		  
		
		  
			<li><a href="/categories/java并发编程/" title="java并发编程">java并发编程<sup>13</sup></a></li>
		  
		
		  
			<li><a href="/categories/python/" title="python">python<sup>19</sup></a></li>
		  
		
		  
			<li><a href="/categories/web前端/" title="web前端">web前端<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/分布式/" title="分布式">分布式<sup>14</sup></a></li>
		  
		
		  
			<li><a href="/categories/数据库干货篇/" title="数据库干货篇">数据库干货篇<sup>20</sup></a></li>
		  
		
		  
			<li><a href="/categories/数据结构与算法/" title="数据结构与算法">数据结构与算法<sup>8</sup></a></li>
		  
		
		  
			<li><a href="/categories/杂谈/" title="杂谈">杂谈<sup>22</sup></a></li>
		  
		
		  
			<li><a href="/categories/设计模式/" title="设计模式">设计模式<sup>9</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Spring/" title="Spring">Spring<sup>39</sup></a></li>
			
		
			
				<li><a href="/tags/杂谈/" title="杂谈">杂谈<sup>22</sup></a></li>
			
		
			
				<li><a href="/tags/java基础/" title="java基础">java基础<sup>21</sup></a></li>
			
		
			
				<li><a href="/tags/python爬虫/" title="python爬虫">python爬虫<sup>18</sup></a></li>
			
		
			
				<li><a href="/tags/java并发编程/" title="java并发编程">java并发编程<sup>16</sup></a></li>
			
		
			
				<li><a href="/tags/SpringBoot/" title="SpringBoot">SpringBoot<sup>16</sup></a></li>
			
		
			
				<li><a href="/tags/SQL/" title="SQL">SQL<sup>16</sup></a></li>
			
		
			
				<li><a href="/tags/分布式/" title="分布式">分布式<sup>14</sup></a></li>
			
		
			
				<li><a href="/tags/Struts2/" title="Struts2">Struts2<sup>12</sup></a></li>
			
		
			
				<li><a href="/tags/Hibernate/" title="Hibernate">Hibernate<sup>12</sup></a></li>
			
		
			
				<li><a href="/tags/数据结构与算法/" title="数据结构与算法">数据结构与算法<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/设计模式/" title="设计模式">设计模式<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/java-IO编程/" title="java IO编程">java IO编程<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/Elasticsearch/" title="Elasticsearch">Elasticsearch<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/Redis/" title="Redis">Redis<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/MyBatis/" title="MyBatis">MyBatis<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/web前端/" title="web前端">web前端<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/MongoDB/" title="MongoDB">MongoDB<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/docker/" title="docker">docker<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Linux/" title="Linux">Linux<sup>3</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="https://gitee.com/chenjiabing666/Blog-file/raw/master/%E4%B8%83%E7%A7%92%E7%BC%96%E7%A8%8B.jpg" target="_blank" title="微信公众号">微信公众号</a>
            
          </li>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="https://www.zhihu.com/people/xiao-ming-64-34-45/activities" target="_blank" title="本人知乎">本人知乎</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.cnblogs.com/Chenjiabing/" target="_blank" title="本人博客园">本人博客园</a>
            
          </li>
        
          <li>
            
            	<a href="https://blog.csdn.net/qq_34162294" target="_blank" title="本人CSDN">本人CSDN</a>
            
          </li>
        
          <li>
            
            	<a href="https://juejin.im/user/2506542244708072" target="_blank" title="本人掘金">本人掘金</a>
            
          </li>
        
    </ul>
</div>

  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> 欢迎关注微信公众号：码猿技术专栏 <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	 <script type="text/javascript">(function(){document.write(unescape('%3Cdiv id="bdcs"%3E%3C/div%3E'));var bdcs = document.createElement('script');bdcs.type = 'text/javascript';bdcs.async = true;bdcs.src = 'http://znsv.baidu.com/customer_search/api/js?sid=14509119671822169205' + '&plate_url=' + encodeURIComponent(window.location.href) + '&t=' + Math.ceil(new Date()/3600000);var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(bdcs, s);})();</script>
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/5651317821" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		<a href="https://github.com/chenjiabing666" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		<a href="https://www.douban.com/people/155022807" target="_blank" class="icon-douban" title="豆瓣"></a>
		
		
		<a href="http://www.zhihu.com/people/https://www.zhihu.com/people/xiao-ming-64-34-45" target="_blank" class="icon-zhihu" title="知乎"></a>
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2020 
		
		<a href="/about" target="_blank" title="不才陈某">不才陈某</a>
		
		
		</p>
		
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    $('#toc.toc-aside').css('display', 'block').addClass('fadeIn');//新加的，打开文章时自动隐藏左边的栏
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
        getSize();
        if (myWidth >= 1024) {
          c.click();
        }
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>




<script type="text/javascript">

var disqus_shortname = 'chenjiabing666';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>






<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'null', 'null');  
ga('send', 'pageview');
</script>



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1261577779'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s23.cnzz.com/z_stat.php%3Fid%3D1261577779' type='text/javascript'%3E%3C/script%3E"));</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

    <script type="text/javascript" src="/js/src/love.js"></script>

  </body>
  
  <script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
</html>
